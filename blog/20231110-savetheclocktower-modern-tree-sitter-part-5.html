<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <script src="/download-preselect.js"></script><title>Modern Tree-sitter, part 5: injections | </title><meta name="description" content="A Community-led Hyper-Hackable Text Editor">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.a535866b.css">
    <link rel="modulepreload" href="/assets/app.87197fef.js"><link rel="modulepreload" href="/assets/20231110-savetheclocktower-modern-tree-sitter-part-5.html.c0c58a16.js"><link rel="modulepreload" href="/assets/20231110-savetheclocktower-modern-tree-sitter-part-5.html.bb998452.js"><link rel="prefetch" href="/assets/about.html.6eb730a3.js"><link rel="prefetch" href="/assets/community.html.1cb2fcef.js"><link rel="prefetch" href="/assets/donate.html.21bc69cb.js"><link rel="prefetch" href="/assets/download.html.dbc595e7.js"><link rel="prefetch" href="/assets/index.html.64f1ae66.js"><link rel="prefetch" href="/assets/repos.html.ad6ff885.js"><link rel="prefetch" href="/assets/20221112-Daeraxa-ExamplePost.html.20d587f5.js"><link rel="prefetch" href="/assets/20221127-confused-Techie-SunsetMisadventureBackend.html.dad96414.js"><link rel="prefetch" href="/assets/20221208-Daeraxa-DistroTubeVideo.html.a94d35bc.js"><link rel="prefetch" href="/assets/20221215-confused-Techie-v1.100.1-beta.html.a78b753f.js"><link rel="prefetch" href="/assets/20230114-confused-Techie-v1.101.0-beta.html.2235fad4.js"><link rel="prefetch" href="/assets/20230201-Daeraxa-FebUpdate.html.78289db0.js"><link rel="prefetch" href="/assets/20230209-mauricioszabo-tree-sitter-part-1.html.580bcde1.js"><link rel="prefetch" href="/assets/20230215-Daeraxa-v1.102.0.html.6a8c9a26.js"><link rel="prefetch" href="/assets/20230216-Daeraxa-ReleaseStrategyUpdate.html.97dbb122.js"><link rel="prefetch" href="/assets/20230227-Daeraxa-Survey1.html.cce17cec.js"><link rel="prefetch" href="/assets/20230301-Daeraxa-MarUpdate.html.0a811ee1.js"><link rel="prefetch" href="/assets/20230315-Daeraxa-v1.103.0.html.9a66cb6e.js"><link rel="prefetch" href="/assets/20230319-confused-Techie-HowLicenseNoneDeletedPackages.html.64b9bafc.js"><link rel="prefetch" href="/assets/20230326-Daeraxa-Survey1-Results.html.e8bb3de9.js"><link rel="prefetch" href="/assets/20230401-Daeraxa-AprUpdate.html.ef4f2fd8.js"><link rel="prefetch" href="/assets/20230401-confused-Techie-PON.html.f6d970d6.js"><link rel="prefetch" href="/assets/20230418-Daeraxa-v1.104.0.html.498d1fde.js"><link rel="prefetch" href="/assets/20230430-Daeraxa-Survey2.html.570aacd8.js"><link rel="prefetch" href="/assets/20230501-Daeraxa-MayUpdate.html.40844741.js"><link rel="prefetch" href="/assets/20230516-Daeraxa-v1.105.0.html.bf43148e.js"><link rel="prefetch" href="/assets/20230525-Daeraxa-Survey2-Results.html.af46184a.js"><link rel="prefetch" href="/assets/20230601-Daeraxa-JuneUpdate.html.5770013f.js"><link rel="prefetch" href="/assets/20230610-Daeraxa-2kStars.html.f63a03a7.js"><link rel="prefetch" href="/assets/20230616-Daeraxa-v1.106.0.html.22d3e3b7.js"><link rel="prefetch" href="/assets/20230701-Daeraxa-JulyUpdate.html.acbe26e1.js"><link rel="prefetch" href="/assets/20230715-DeeDeeG-v1.107.0.html.38608ae1.js"><link rel="prefetch" href="/assets/20230716-Daeraxa-v1.107.1.html.d06cfc56.js"><link rel="prefetch" href="/assets/20230801-Daeraxa-AugustUpdate.html.a30019be.js"><link rel="prefetch" href="/assets/20230816-DeeDeeG-v1.108.0.html.11a20d1e.js"><link rel="prefetch" href="/assets/20230825-Daeraxa-ChocolateyUpdate.html.53eb3298.js"><link rel="prefetch" href="/assets/20230903-confused-Techie-pulsars-ci.html.f7812f3a.js"><link rel="prefetch" href="/assets/20230904-Daeraxa-SeptemberUpdate.html.77d3175b.js"><link rel="prefetch" href="/assets/20230916-Daeraxa-v1.109.0.html.fcf83ec5.js"><link rel="prefetch" href="/assets/20230917-Daeraxa-LemmyCommunity.html.95f4ca86.js"><link rel="prefetch" href="/assets/20230925-savetheclocktower-modern-tree-sitter-part-1.html.3d8130c9.js"><link rel="prefetch" href="/assets/20230927-savetheclocktower-modern-tree-sitter-part-2.html.c9b9a8bd.js"><link rel="prefetch" href="/assets/20231004-Daeraxa-OctoberUpdate.html.3b1907f4.js"><link rel="prefetch" href="/assets/20231013-savetheclocktower-modern-tree-sitter-part-3.html.479e8a22.js"><link rel="prefetch" href="/assets/20231016-Daeraxa-v1.110.0.html.1a72c098.js"><link rel="prefetch" href="/assets/20231031-savetheclocktower-modern-tree-sitter-part-4.html.ac9522c5.js"><link rel="prefetch" href="/assets/20231109-Daeraxa-NovemberUpdate.html.e36ef3bb.js"><link rel="prefetch" href="/assets/20231116-Daeraxa-v1.111.0.html.d47bf460.js"><link rel="prefetch" href="/assets/20231212-Daeraxa-DecemberUpdate.html.0098fa41.js"><link rel="prefetch" href="/assets/20231216-Daeraxa-v1.112.0.html.cc8771c3.js"><link rel="prefetch" href="/assets/20231219-DeeDeeG-v1.112.1.html.0ec91d1c.js"><link rel="prefetch" href="/assets/20240112-Daeraxa-JanuaryUpdate.html.727ac307.js"><link rel="prefetch" href="/assets/20240115-Daeraxa-v1.113.0.html.1359019c.js"><link rel="prefetch" href="/assets/20240122-savetheclocktower-modern-tree-sitter-part-6.html.bc065797.js"><link rel="prefetch" href="/assets/20240124-mauricioszabo-the-quest-for-electron-lts.html.a8c82ab1.js"><link rel="prefetch" href="/assets/20240201-Daeraxa-FebruaryUpdate.html.5a1ade21.js"><link rel="prefetch" href="/assets/20240215-Daeraxa-v1.114.0.html.51cb2c96.js"><link rel="prefetch" href="/assets/20240323-savetheclocktower-v1.115.0.html.f7639cd5.js"><link rel="prefetch" href="/assets/20240417-confused-Techie-v1.116.0.html.7f7778b4.js"><link rel="prefetch" href="/assets/20240520-confused-Techie-v1.117.0.html.022d8530.js"><link rel="prefetch" href="/assets/20240616-confused-Techie-v1.118.0.html.eef47ab0.js"><link rel="prefetch" href="/assets/20240717-confused-Techie-v1.119.0.html.002ab8fa.js"><link rel="prefetch" href="/assets/20240817-DeeDeeG-v1.120.0.html.3a67c73f.js"><link rel="prefetch" href="/assets/20240902-savetheclocktower-modern-tree-sitter-part-7.html.7fead2a6.js"><link rel="prefetch" href="/assets/20240918-confused-Techie-v1.121.0.html.b10b1169.js"><link rel="prefetch" href="/assets/20241020-DeeDeeG-v1.122.0.html.626fae16.js"><link rel="prefetch" href="/assets/20241121-confused-Techie-v1.123.0.html.9d40b26f.js"><link rel="prefetch" href="/assets/20241216-DeeDeeG-v1.124.0.html.0ff2dc08.js"><link rel="prefetch" href="/assets/20250123-confused-Techie-v1.125.0.html.91275810.js"><link rel="prefetch" href="/assets/20250305-DeeDeeG-v1.126.0.html.db7f6ebc.js"><link rel="prefetch" href="/assets/20250326-DeeDeeG-v1.127.0.html.25dab831.js"><link rel="prefetch" href="/assets/20250329-DeeDeeG-v1.127.1.html.cce6c15c.js"><link rel="prefetch" href="/assets/20250502-DeeDeeG-v1.128.0.html.e7b9202e.js"><link rel="prefetch" href="/assets/20250630-savetheclocktower-pulsar-next-testing.html.064e4245.js"><link rel="prefetch" href="/assets/20250807-DeeDeeG-v1.129.0.html.40380e81.js"><link rel="prefetch" href="/assets/index.html.3e6c1463.js"><link rel="prefetch" href="/assets/index.html.e54b2982.js"><link rel="prefetch" href="/assets/index.html.09d5e6bd.js"><link rel="prefetch" href="/assets/index.html.bb4bd5d9.js"><link rel="prefetch" href="/assets/index.html.6f6341d2.js"><link rel="prefetch" href="/assets/index.html.e66450b6.js"><link rel="prefetch" href="/assets/index.html.d51edc97.js"><link rel="prefetch" href="/assets/index.html.47212b5b.js"><link rel="prefetch" href="/assets/index.html.ebeb7c37.js"><link rel="prefetch" href="/assets/index.html.22737491.js"><link rel="prefetch" href="/assets/index.html.47c4aeae.js"><link rel="prefetch" href="/assets/index.html.8df00eba.js"><link rel="prefetch" href="/assets/index.html.c211f99a.js"><link rel="prefetch" href="/assets/index.html.58a10652.js"><link rel="prefetch" href="/assets/index.html.74bcfb5f.js"><link rel="prefetch" href="/assets/index.html.f2ffe19c.js"><link rel="prefetch" href="/assets/index.html.f2a9140b.js"><link rel="prefetch" href="/assets/index.html.bfae9c6a.js"><link rel="prefetch" href="/assets/index.html.db4b9cf5.js"><link rel="prefetch" href="/assets/index.html.39d9060f.js"><link rel="prefetch" href="/assets/index.html.f7363831.js"><link rel="prefetch" href="/assets/index.html.b3509800.js"><link rel="prefetch" href="/assets/atom-package-server-api.html.0b048bfe.js"><link rel="prefetch" href="/assets/atom-update-server-api.html.874968a8.js"><link rel="prefetch" href="/assets/configuration-api.html.1ed2295a.js"><link rel="prefetch" href="/assets/developing-node-modules.html.e77f2326.js"><link rel="prefetch" href="/assets/how-atom-uses-chromium-snapshots.html.1d190b2c.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.2f7e9afe.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.253e4d41.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.66a1baf7.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.c8332e42.js"><link rel="prefetch" href="/assets/serialization-in-atom.html.9a8a1ff4.js"><link rel="prefetch" href="/assets/summary.html.c86acfc7.js"><link rel="prefetch" href="/assets/atom-in-the-cloud.html.be1543ce.js"><link rel="prefetch" href="/assets/how-can-i-contribute-to-atom.html.49db6f72.js"><link rel="prefetch" href="/assets/how-can-i-tell-if-subpixel-antialiasing-is-working.html.f1514fae.js"><link rel="prefetch" href="/assets/how-do-i-accept-input-from-my-program-or-script-when-using-the-script-package.html.eea6eb04.js"><link rel="prefetch" href="/assets/how-do-i-build-or-execute-code-i-ve-written-in-atom.html.7afea0b7.js"><link rel="prefetch" href="/assets/how-do-i-make-atom-recognize-a-file-with-extension-x-as-language-y.html.45ca3345.js"><link rel="prefetch" href="/assets/how-do-i-make-the-welcome-screen-stop-showing-up.html.2f9c8a6b.js"><link rel="prefetch" href="/assets/how-do-i-preview-web-page-changes-automatically.html.7240862c.js"><link rel="prefetch" href="/assets/how-do-i-turn-on-line-wrap.html.743574d9.js"><link rel="prefetch" href="/assets/how-do-i-uninstall-atom-on-macos.html.8c93daae.js"><link rel="prefetch" href="/assets/how-do-i-use-a-newline-in-the-result-of-find-and-replace.html.faceab9d.js"><link rel="prefetch" href="/assets/i-am-unable-to-update-to-the-latest-version-of-atom-on-macos-how-do-i-fix-this.html.7f10693d.js"><link rel="prefetch" href="/assets/i-have-a-question-about-a-specific-atom-community-package-where-is-the-best-place-to-ask-it.html.2fe045ab.js"><link rel="prefetch" href="/assets/i-m-getting-an-error-about-a-self-signed-certificate-what-do-i-do.html.18a6988d.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-julia-what-do-i-do.html.acdafc71.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-platformio-what-do-i-do.html.4bea6f02.js"><link rel="prefetch" href="/assets/i-m-trying-to-change-my-syntax-colors-from-styles-less-but-it-isn-t-working.html.9615ee41.js"><link rel="prefetch" href="/assets/i-m-using-an-international-keyboard-and-keys-that-use-altgr-or-ctrl-alt-aren-t-working.html.d12cc459.js"><link rel="prefetch" href="/assets/is-atom-open-source.html.3e2a7899.js"><link rel="prefetch" href="/assets/macos-mojave-font-rendering-change.html.d33ba74d.js"><link rel="prefetch" href="/assets/the-menu-bar-disappeared-how-do-i-get-it-back.html.5285b7d6.js"><link rel="prefetch" href="/assets/what-does-atom-cost.html.f490edb9.js"><link rel="prefetch" href="/assets/what-does-safe-mode-do.html.c28e8226.js"><link rel="prefetch" href="/assets/what-is-this-line-on-the-right-in-the-editor-view.html.92c5016f.js"><link rel="prefetch" href="/assets/what-platforms-does-atom-run-on.html.e67bfbea.js"><link rel="prefetch" href="/assets/what-s-the-difference-between-an-ide-and-an-editor.html.7377822b.js"><link rel="prefetch" href="/assets/why-does-atom-collect-usage-data.html.fd1638d4.js"><link rel="prefetch" href="/assets/why-does-macos-say-that-atom-wants-to-access-my-calendar-contacts-photos-etc.html.dfe60df2.js"><link rel="prefetch" href="/assets/why-is-atom-deleting-trailing-whitespace-why-is-there-a-newline-at-the-end-of-the-file.html.009bf895.js"><link rel="prefetch" href="/assets/atom-basics.html.fc2f4a06.js"><link rel="prefetch" href="/assets/installing-atom.html.4dd4d36f.js"><link rel="prefetch" href="/assets/summary.html.fe9be6bd.js"><link rel="prefetch" href="/assets/why-atom.html.4fb90fd5.js"><link rel="prefetch" href="/assets/contributing-to-official-atom-packages.html.961e0ab9.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.3a2f1029.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package-in-atom-atom.html.367b286d.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.207ba73b.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.ed46d264.js"><link rel="prefetch" href="/assets/creating-a-theme.html.a5fedbd5.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.12555539.js"><link rel="prefetch" href="/assets/debugging.html.85a630ac.js"><link rel="prefetch" href="/assets/hacking-on-atom-core.html.db966159.js"><link rel="prefetch" href="/assets/handling-uris.html.ac6b4f1b.js"><link rel="prefetch" href="/assets/iconography.html.cb0903f5.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package-in-atom-atom.html.b59d275a.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.6ba548b2.js"><link rel="prefetch" href="/assets/package-modifying-text.html.a1bdfaa6.js"><link rel="prefetch" href="/assets/package-word-count.html.49781908.js"><link rel="prefetch" href="/assets/publishing.html.76babe74.js"><link rel="prefetch" href="/assets/summary.html.a6f48395.js"><link rel="prefetch" href="/assets/the-init-file.html.87635cd5.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.af54b9d7.js"><link rel="prefetch" href="/assets/writing-specs.html.de9c57a1.js"><link rel="prefetch" href="/assets/glossary.html.3aca2517.js"><link rel="prefetch" href="/assets/removing-shadow-dom-styles.html.f6df46a8.js"><link rel="prefetch" href="/assets/upgrading-your-package.html.901ab9e5.js"><link rel="prefetch" href="/assets/upgrading-your-syntax-theme.html.7650d04c.js"><link rel="prefetch" href="/assets/upgrading-your-ui-theme-or-package-selectors.html.1c26203d.js"><link rel="prefetch" href="/assets/atom-packages.html.52a02db4.js"><link rel="prefetch" href="/assets/atom-selections.html.6ccd154b.js"><link rel="prefetch" href="/assets/autocomplete.html.ec6b60fc.js"><link rel="prefetch" href="/assets/basic-customization.html.ea54ccd8.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.77f55668.js"><link rel="prefetch" href="/assets/find-and-replace.html.4a488eeb.js"><link rel="prefetch" href="/assets/folding.html.e4e0e277.js"><link rel="prefetch" href="/assets/github-package.html.9d0daecf.js"><link rel="prefetch" href="/assets/grammar.html.63ce206c.js"><link rel="prefetch" href="/assets/moving-in-atom.html.386980d6.js"><link rel="prefetch" href="/assets/panes.html.8ce248a9.js"><link rel="prefetch" href="/assets/pending-pane-items.html.0021df08.js"><link rel="prefetch" href="/assets/snippets.html.2349e19b.js"><link rel="prefetch" href="/assets/summary.html.b8077cd9.js"><link rel="prefetch" href="/assets/version-control-in-atom.html.8e9ff87a.js"><link rel="prefetch" href="/assets/writing-in-atom.html.7240ac7e.js"><link rel="prefetch" href="/assets/index.html.b8230621.js"><link rel="prefetch" href="/assets/index.html.d872f358.js"><link rel="prefetch" href="/assets/index.html.96af6444.js"><link rel="prefetch" href="/assets/index.html.59090f4c.js"><link rel="prefetch" href="/assets/index.html.c48759b6.js"><link rel="prefetch" href="/assets/index.html.076d2cf9.js"><link rel="prefetch" href="/assets/list.html.c39f324c.js"><link rel="prefetch" href="/assets/release-process.html.e8f6cce9.js"><link rel="prefetch" href="/assets/autocomplete-providers.html.39836bcd.js"><link rel="prefetch" href="/assets/index.html.f452234d.js"><link rel="prefetch" href="/assets/provider-api.html.dd1fb570.js"><link rel="prefetch" href="/assets/symbolprovider-config-api.html.04edf651.js"><link rel="prefetch" href="/assets/index.html.f1050665.js"><link rel="prefetch" href="/assets/june-2017.html.c21d6acc.js"><link rel="prefetch" href="/assets/incomplete-classpath-warning.html.cee3657e.js"><link rel="prefetch" href="/assets/index.html.06c71ebc.js"><link rel="prefetch" href="/assets/blog-guide.html.8cda1ca4.js"><link rel="prefetch" href="/assets/building.html.d07905be.js"><link rel="prefetch" href="/assets/configuration-files.html.cb664208.js"><link rel="prefetch" href="/assets/document-style.html.c693adb9.js"><link rel="prefetch" href="/assets/file-organization.html.96259859.js"><link rel="prefetch" href="/assets/configuration-api.html.d4ff21e0.js"><link rel="prefetch" href="/assets/developing-node-modules.html.f010be5c.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.ee16b4f1.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.acd7fcb2.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.4eb25dae.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.3914ff78.js"><link rel="prefetch" href="/assets/serialization-in-pulsar.html.58da7fb2.js"><link rel="prefetch" href="/assets/summary.html.8a21214b.js"><link rel="prefetch" href="/assets/building-pulsar.html.b0e5a0ea.js"><link rel="prefetch" href="/assets/contributing-to-official-pulsar-packages.html.26ef0088.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.3ede2cec.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package.html.1312dc3f.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.d2553095.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.b6783a7b.js"><link rel="prefetch" href="/assets/creating-a-theme.html.e0e52d2e.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.1dd2761e.js"><link rel="prefetch" href="/assets/debugging.html.3bdb6a8e.js"><link rel="prefetch" href="/assets/hacking-on-the-core.html.5c30ae63.js"><link rel="prefetch" href="/assets/handling-uris.html.a6645854.js"><link rel="prefetch" href="/assets/iconography.html.f6f37c01.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package.html.d089d3ba.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.f8b84ee7.js"><link rel="prefetch" href="/assets/package-modifying-text.html.8104c421.js"><link rel="prefetch" href="/assets/package-word-count.html.7f5691c3.js"><link rel="prefetch" href="/assets/publishing.html.68438e12.js"><link rel="prefetch" href="/assets/summary.html.7e60db5d.js"><link rel="prefetch" href="/assets/the-init-file.html.106c20da.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.9e252ffc.js"><link rel="prefetch" href="/assets/using-ppm.html.4f5504d2.js"><link rel="prefetch" href="/assets/writing-specs.html.3849103b.js"><link rel="prefetch" href="/assets/common-issues.html.dfde4f04.js"><link rel="prefetch" href="/assets/get-help.html.a5704781.js"><link rel="prefetch" href="/assets/installing-pulsar.html.60eab37a.js"><link rel="prefetch" href="/assets/pulsar-basics.html.c9db0718.js"><link rel="prefetch" href="/assets/summary.html.2480fd44.js"><link rel="prefetch" href="/assets/why-pulsar.html.62b37d90.js"><link rel="prefetch" href="/assets/autocomplete.html.a3130bec.js"><link rel="prefetch" href="/assets/basic-customization.html.f10a503f.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.31c0ca86.js"><link rel="prefetch" href="/assets/find-and-replace.html.83b7b799.js"><link rel="prefetch" href="/assets/folding.html.3ffe9e96.js"><link rel="prefetch" href="/assets/github-package.html.90ba8ca2.js"><link rel="prefetch" href="/assets/grammar.html.bc810e1f.js"><link rel="prefetch" href="/assets/moving-in-pulsar.html.325aabf8.js"><link rel="prefetch" href="/assets/panes.html.7c7f5559.js"><link rel="prefetch" href="/assets/pending-pane-items.html.4cd88c45.js"><link rel="prefetch" href="/assets/pulsar-packages.html.37ad4142.js"><link rel="prefetch" href="/assets/pulsar-selections.html.ecb5890c.js"><link rel="prefetch" href="/assets/snippets.html.fd11bb00.js"><link rel="prefetch" href="/assets/summary.html.6c334e6e.js"><link rel="prefetch" href="/assets/version-control-in-pulsar.html.74f8278b.js"><link rel="prefetch" href="/assets/writing-in-pulsar.html.e1c1e98e.js"><link rel="prefetch" href="/assets/404.html.83136f9a.js"><link rel="prefetch" href="/assets/index.html.1725108a.js"><link rel="prefetch" href="/assets/index.html.e66a9e6f.js"><link rel="prefetch" href="/assets/index.html.a9c04ba9.js"><link rel="prefetch" href="/assets/index.html.3d557021.js"><link rel="prefetch" href="/assets/index.html.4a993420.js"><link rel="prefetch" href="/assets/index.html.10df3af1.js"><link rel="prefetch" href="/assets/index.html.dcdc22a2.js"><link rel="prefetch" href="/assets/index.html.5925a712.js"><link rel="prefetch" href="/assets/index.html.7ceb711f.js"><link rel="prefetch" href="/assets/index.html.b03183ad.js"><link rel="prefetch" href="/assets/index.html.16e14736.js"><link rel="prefetch" href="/assets/index.html.4393ebb6.js"><link rel="prefetch" href="/assets/index.html.234bb87b.js"><link rel="prefetch" href="/assets/index.html.10d7d674.js"><link rel="prefetch" href="/assets/index.html.2f30f8af.js"><link rel="prefetch" href="/assets/index.html.19e04ff4.js"><link rel="prefetch" href="/assets/index.html.644bc9d9.js"><link rel="prefetch" href="/assets/index.html.d36c0486.js"><link rel="prefetch" href="/assets/index.html.5f67efaf.js"><link rel="prefetch" href="/assets/index.html.4ae4defc.js"><link rel="prefetch" href="/assets/index.html.fb13f8c6.js"><link rel="prefetch" href="/assets/index.html.450e1e45.js"><link rel="prefetch" href="/assets/index.html.01c707f9.js"><link rel="prefetch" href="/assets/index.html.130de9b2.js"><link rel="prefetch" href="/assets/index.html.d8f16f60.js"><link rel="prefetch" href="/assets/index.html.79d61236.js"><link rel="prefetch" href="/assets/index.html.5eca0895.js"><link rel="prefetch" href="/assets/index.html.100503fe.js"><link rel="prefetch" href="/assets/index.html.0f592a40.js"><link rel="prefetch" href="/assets/index.html.a8a660db.js"><link rel="prefetch" href="/assets/index.html.3aa61e11.js"><link rel="prefetch" href="/assets/index.html.d9369373.js"><link rel="prefetch" href="/assets/about.html.b7288028.js"><link rel="prefetch" href="/assets/community.html.8f247b7c.js"><link rel="prefetch" href="/assets/donate.html.1a48500b.js"><link rel="prefetch" href="/assets/download.html.8cb35719.js"><link rel="prefetch" href="/assets/index.html.a8fcb534.js"><link rel="prefetch" href="/assets/repos.html.a319cccf.js"><link rel="prefetch" href="/assets/20221112-Daeraxa-ExamplePost.html.6c9b48dc.js"><link rel="prefetch" href="/assets/20221127-confused-Techie-SunsetMisadventureBackend.html.6f16aa92.js"><link rel="prefetch" href="/assets/20221208-Daeraxa-DistroTubeVideo.html.4f76d02c.js"><link rel="prefetch" href="/assets/20221215-confused-Techie-v1.100.1-beta.html.68768751.js"><link rel="prefetch" href="/assets/20230114-confused-Techie-v1.101.0-beta.html.740014c6.js"><link rel="prefetch" href="/assets/20230201-Daeraxa-FebUpdate.html.99409990.js"><link rel="prefetch" href="/assets/20230209-mauricioszabo-tree-sitter-part-1.html.59c1bf75.js"><link rel="prefetch" href="/assets/20230215-Daeraxa-v1.102.0.html.6eba775b.js"><link rel="prefetch" href="/assets/20230216-Daeraxa-ReleaseStrategyUpdate.html.04991498.js"><link rel="prefetch" href="/assets/20230227-Daeraxa-Survey1.html.9df48eb4.js"><link rel="prefetch" href="/assets/20230301-Daeraxa-MarUpdate.html.a9f8b508.js"><link rel="prefetch" href="/assets/20230315-Daeraxa-v1.103.0.html.2d467fc3.js"><link rel="prefetch" href="/assets/20230319-confused-Techie-HowLicenseNoneDeletedPackages.html.356faba5.js"><link rel="prefetch" href="/assets/20230326-Daeraxa-Survey1-Results.html.61ff8443.js"><link rel="prefetch" href="/assets/20230401-Daeraxa-AprUpdate.html.df6c8e2d.js"><link rel="prefetch" href="/assets/20230401-confused-Techie-PON.html.5af6ba0e.js"><link rel="prefetch" href="/assets/20230418-Daeraxa-v1.104.0.html.7e21706f.js"><link rel="prefetch" href="/assets/20230430-Daeraxa-Survey2.html.389d22c1.js"><link rel="prefetch" href="/assets/20230501-Daeraxa-MayUpdate.html.fb74af99.js"><link rel="prefetch" href="/assets/20230516-Daeraxa-v1.105.0.html.c8fd5091.js"><link rel="prefetch" href="/assets/20230525-Daeraxa-Survey2-Results.html.e6e76ae8.js"><link rel="prefetch" href="/assets/20230601-Daeraxa-JuneUpdate.html.f115aa11.js"><link rel="prefetch" href="/assets/20230610-Daeraxa-2kStars.html.910c4e81.js"><link rel="prefetch" href="/assets/20230616-Daeraxa-v1.106.0.html.af779283.js"><link rel="prefetch" href="/assets/20230701-Daeraxa-JulyUpdate.html.a100c7bb.js"><link rel="prefetch" href="/assets/20230715-DeeDeeG-v1.107.0.html.7a15c9ac.js"><link rel="prefetch" href="/assets/20230716-Daeraxa-v1.107.1.html.c31b0585.js"><link rel="prefetch" href="/assets/20230801-Daeraxa-AugustUpdate.html.718393f8.js"><link rel="prefetch" href="/assets/20230816-DeeDeeG-v1.108.0.html.bea5221f.js"><link rel="prefetch" href="/assets/20230825-Daeraxa-ChocolateyUpdate.html.83b08ad5.js"><link rel="prefetch" href="/assets/20230903-confused-Techie-pulsars-ci.html.719841c3.js"><link rel="prefetch" href="/assets/20230904-Daeraxa-SeptemberUpdate.html.a9e63057.js"><link rel="prefetch" href="/assets/20230916-Daeraxa-v1.109.0.html.953053a6.js"><link rel="prefetch" href="/assets/20230917-Daeraxa-LemmyCommunity.html.60edbae1.js"><link rel="prefetch" href="/assets/20230925-savetheclocktower-modern-tree-sitter-part-1.html.bd8070ed.js"><link rel="prefetch" href="/assets/20230927-savetheclocktower-modern-tree-sitter-part-2.html.a8718084.js"><link rel="prefetch" href="/assets/20231004-Daeraxa-OctoberUpdate.html.7f993d68.js"><link rel="prefetch" href="/assets/20231013-savetheclocktower-modern-tree-sitter-part-3.html.86e7f10c.js"><link rel="prefetch" href="/assets/20231016-Daeraxa-v1.110.0.html.b18813ab.js"><link rel="prefetch" href="/assets/20231031-savetheclocktower-modern-tree-sitter-part-4.html.8349b1e3.js"><link rel="prefetch" href="/assets/20231109-Daeraxa-NovemberUpdate.html.ff6bd3fe.js"><link rel="prefetch" href="/assets/20231116-Daeraxa-v1.111.0.html.fa74b090.js"><link rel="prefetch" href="/assets/20231212-Daeraxa-DecemberUpdate.html.a4457c93.js"><link rel="prefetch" href="/assets/20231216-Daeraxa-v1.112.0.html.8d7cbe4c.js"><link rel="prefetch" href="/assets/20231219-DeeDeeG-v1.112.1.html.dc2d21fb.js"><link rel="prefetch" href="/assets/20240112-Daeraxa-JanuaryUpdate.html.30a86843.js"><link rel="prefetch" href="/assets/20240115-Daeraxa-v1.113.0.html.729b2552.js"><link rel="prefetch" href="/assets/20240122-savetheclocktower-modern-tree-sitter-part-6.html.021479d0.js"><link rel="prefetch" href="/assets/20240124-mauricioszabo-the-quest-for-electron-lts.html.e2edc063.js"><link rel="prefetch" href="/assets/20240201-Daeraxa-FebruaryUpdate.html.90b4dda0.js"><link rel="prefetch" href="/assets/20240215-Daeraxa-v1.114.0.html.cf7d4664.js"><link rel="prefetch" href="/assets/20240323-savetheclocktower-v1.115.0.html.ba1889a6.js"><link rel="prefetch" href="/assets/20240417-confused-Techie-v1.116.0.html.aa58609a.js"><link rel="prefetch" href="/assets/20240520-confused-Techie-v1.117.0.html.bfee07ec.js"><link rel="prefetch" href="/assets/20240616-confused-Techie-v1.118.0.html.5da376d3.js"><link rel="prefetch" href="/assets/20240717-confused-Techie-v1.119.0.html.7e420daa.js"><link rel="prefetch" href="/assets/20240817-DeeDeeG-v1.120.0.html.f9a802ad.js"><link rel="prefetch" href="/assets/20240902-savetheclocktower-modern-tree-sitter-part-7.html.33be2b15.js"><link rel="prefetch" href="/assets/20240918-confused-Techie-v1.121.0.html.f78df81b.js"><link rel="prefetch" href="/assets/20241020-DeeDeeG-v1.122.0.html.313f62be.js"><link rel="prefetch" href="/assets/20241121-confused-Techie-v1.123.0.html.8ae34ae1.js"><link rel="prefetch" href="/assets/20241216-DeeDeeG-v1.124.0.html.b37ea6b6.js"><link rel="prefetch" href="/assets/20250123-confused-Techie-v1.125.0.html.2134c632.js"><link rel="prefetch" href="/assets/20250305-DeeDeeG-v1.126.0.html.11658cf0.js"><link rel="prefetch" href="/assets/20250326-DeeDeeG-v1.127.0.html.3a3dbbaa.js"><link rel="prefetch" href="/assets/20250329-DeeDeeG-v1.127.1.html.5c13ad5e.js"><link rel="prefetch" href="/assets/20250502-DeeDeeG-v1.128.0.html.2b7b410a.js"><link rel="prefetch" href="/assets/20250630-savetheclocktower-pulsar-next-testing.html.ff7cd46a.js"><link rel="prefetch" href="/assets/20250807-DeeDeeG-v1.129.0.html.58c99d0e.js"><link rel="prefetch" href="/assets/index.html.f5ca0476.js"><link rel="prefetch" href="/assets/index.html.30471fb4.js"><link rel="prefetch" href="/assets/index.html.187d01d1.js"><link rel="prefetch" href="/assets/index.html.11b705d4.js"><link rel="prefetch" href="/assets/index.html.17007a9b.js"><link rel="prefetch" href="/assets/index.html.0f9f860d.js"><link rel="prefetch" href="/assets/index.html.c3b694f1.js"><link rel="prefetch" href="/assets/index.html.14e37a78.js"><link rel="prefetch" href="/assets/index.html.e6f1bc02.js"><link rel="prefetch" href="/assets/index.html.3e511175.js"><link rel="prefetch" href="/assets/index.html.155539d1.js"><link rel="prefetch" href="/assets/index.html.9a1bbbcf.js"><link rel="prefetch" href="/assets/index.html.fe1e65c5.js"><link rel="prefetch" href="/assets/index.html.3a2b0e8d.js"><link rel="prefetch" href="/assets/index.html.858d27fe.js"><link rel="prefetch" href="/assets/index.html.09496841.js"><link rel="prefetch" href="/assets/index.html.2efc0b0d.js"><link rel="prefetch" href="/assets/index.html.b2f670c4.js"><link rel="prefetch" href="/assets/index.html.3ec61b78.js"><link rel="prefetch" href="/assets/index.html.7f61cee5.js"><link rel="prefetch" href="/assets/index.html.64f3e593.js"><link rel="prefetch" href="/assets/index.html.cdc6a1ef.js"><link rel="prefetch" href="/assets/atom-package-server-api.html.3e7779ce.js"><link rel="prefetch" href="/assets/atom-update-server-api.html.e5bda85a.js"><link rel="prefetch" href="/assets/configuration-api.html.c29b2749.js"><link rel="prefetch" href="/assets/developing-node-modules.html.3b37da78.js"><link rel="prefetch" href="/assets/how-atom-uses-chromium-snapshots.html.cecf5594.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.39fdfec1.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.3eeda82a.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.15a1a742.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.85e56e3d.js"><link rel="prefetch" href="/assets/serialization-in-atom.html.9869ba8d.js"><link rel="prefetch" href="/assets/summary.html.003a8eab.js"><link rel="prefetch" href="/assets/atom-in-the-cloud.html.bfa93abd.js"><link rel="prefetch" href="/assets/how-can-i-contribute-to-atom.html.d5b62994.js"><link rel="prefetch" href="/assets/how-can-i-tell-if-subpixel-antialiasing-is-working.html.fdbdf908.js"><link rel="prefetch" href="/assets/how-do-i-accept-input-from-my-program-or-script-when-using-the-script-package.html.64d0aacc.js"><link rel="prefetch" href="/assets/how-do-i-build-or-execute-code-i-ve-written-in-atom.html.e4668382.js"><link rel="prefetch" href="/assets/how-do-i-make-atom-recognize-a-file-with-extension-x-as-language-y.html.2ed055ab.js"><link rel="prefetch" href="/assets/how-do-i-make-the-welcome-screen-stop-showing-up.html.3a6e6ff0.js"><link rel="prefetch" href="/assets/how-do-i-preview-web-page-changes-automatically.html.899644dc.js"><link rel="prefetch" href="/assets/how-do-i-turn-on-line-wrap.html.06bfe98f.js"><link rel="prefetch" href="/assets/how-do-i-uninstall-atom-on-macos.html.2aedb59b.js"><link rel="prefetch" href="/assets/how-do-i-use-a-newline-in-the-result-of-find-and-replace.html.f7ba2323.js"><link rel="prefetch" href="/assets/i-am-unable-to-update-to-the-latest-version-of-atom-on-macos-how-do-i-fix-this.html.a72ba11d.js"><link rel="prefetch" href="/assets/i-have-a-question-about-a-specific-atom-community-package-where-is-the-best-place-to-ask-it.html.adb70910.js"><link rel="prefetch" href="/assets/i-m-getting-an-error-about-a-self-signed-certificate-what-do-i-do.html.64ad8a74.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-julia-what-do-i-do.html.c02190b0.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-platformio-what-do-i-do.html.1329c847.js"><link rel="prefetch" href="/assets/i-m-trying-to-change-my-syntax-colors-from-styles-less-but-it-isn-t-working.html.6819dc7a.js"><link rel="prefetch" href="/assets/i-m-using-an-international-keyboard-and-keys-that-use-altgr-or-ctrl-alt-aren-t-working.html.5bfdfeb4.js"><link rel="prefetch" href="/assets/is-atom-open-source.html.4477f7f2.js"><link rel="prefetch" href="/assets/macos-mojave-font-rendering-change.html.a4959d9b.js"><link rel="prefetch" href="/assets/the-menu-bar-disappeared-how-do-i-get-it-back.html.60c57995.js"><link rel="prefetch" href="/assets/what-does-atom-cost.html.2fe901af.js"><link rel="prefetch" href="/assets/what-does-safe-mode-do.html.a4e1859e.js"><link rel="prefetch" href="/assets/what-is-this-line-on-the-right-in-the-editor-view.html.178a96bd.js"><link rel="prefetch" href="/assets/what-platforms-does-atom-run-on.html.18b35d08.js"><link rel="prefetch" href="/assets/what-s-the-difference-between-an-ide-and-an-editor.html.ded7569e.js"><link rel="prefetch" href="/assets/why-does-atom-collect-usage-data.html.09a2626a.js"><link rel="prefetch" href="/assets/why-does-macos-say-that-atom-wants-to-access-my-calendar-contacts-photos-etc.html.60655fbb.js"><link rel="prefetch" href="/assets/why-is-atom-deleting-trailing-whitespace-why-is-there-a-newline-at-the-end-of-the-file.html.38f22e7a.js"><link rel="prefetch" href="/assets/atom-basics.html.1977d5d6.js"><link rel="prefetch" href="/assets/installing-atom.html.b69e9e1b.js"><link rel="prefetch" href="/assets/summary.html.f9e25bbd.js"><link rel="prefetch" href="/assets/why-atom.html.071cb493.js"><link rel="prefetch" href="/assets/contributing-to-official-atom-packages.html.c4ad99b0.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.32ce3347.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package-in-atom-atom.html.361157ed.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.eef11539.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.1809aa2c.js"><link rel="prefetch" href="/assets/creating-a-theme.html.077e98e7.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.702697d9.js"><link rel="prefetch" href="/assets/debugging.html.176d9836.js"><link rel="prefetch" href="/assets/hacking-on-atom-core.html.1bb206e7.js"><link rel="prefetch" href="/assets/handling-uris.html.5ad4432e.js"><link rel="prefetch" href="/assets/iconography.html.af66e153.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package-in-atom-atom.html.909da825.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.18c10232.js"><link rel="prefetch" href="/assets/package-modifying-text.html.f845e329.js"><link rel="prefetch" href="/assets/package-word-count.html.deada300.js"><link rel="prefetch" href="/assets/publishing.html.ea21cb1d.js"><link rel="prefetch" href="/assets/summary.html.8a3a4499.js"><link rel="prefetch" href="/assets/the-init-file.html.e3cc0739.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.e82e4a01.js"><link rel="prefetch" href="/assets/writing-specs.html.834e86a2.js"><link rel="prefetch" href="/assets/glossary.html.789f7f82.js"><link rel="prefetch" href="/assets/removing-shadow-dom-styles.html.418a6831.js"><link rel="prefetch" href="/assets/upgrading-your-package.html.d7eb31a1.js"><link rel="prefetch" href="/assets/upgrading-your-syntax-theme.html.14c02264.js"><link rel="prefetch" href="/assets/upgrading-your-ui-theme-or-package-selectors.html.16981f53.js"><link rel="prefetch" href="/assets/atom-packages.html.26f0b9d9.js"><link rel="prefetch" href="/assets/atom-selections.html.6143d1e0.js"><link rel="prefetch" href="/assets/autocomplete.html.ef56c7c5.js"><link rel="prefetch" href="/assets/basic-customization.html.f865c113.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.4d0118af.js"><link rel="prefetch" href="/assets/find-and-replace.html.fe12f5b1.js"><link rel="prefetch" href="/assets/folding.html.fae3efda.js"><link rel="prefetch" href="/assets/github-package.html.fd5a2df0.js"><link rel="prefetch" href="/assets/grammar.html.3b0ace71.js"><link rel="prefetch" href="/assets/moving-in-atom.html.024a83bd.js"><link rel="prefetch" href="/assets/panes.html.441a1d0d.js"><link rel="prefetch" href="/assets/pending-pane-items.html.9bbed888.js"><link rel="prefetch" href="/assets/snippets.html.831e77a6.js"><link rel="prefetch" href="/assets/summary.html.5ca53d0e.js"><link rel="prefetch" href="/assets/version-control-in-atom.html.0ee4b9fa.js"><link rel="prefetch" href="/assets/writing-in-atom.html.d5b6b61c.js"><link rel="prefetch" href="/assets/index.html.798fd14f.js"><link rel="prefetch" href="/assets/index.html.f10dd5ef.js"><link rel="prefetch" href="/assets/index.html.d59fdf67.js"><link rel="prefetch" href="/assets/index.html.3ecb24d4.js"><link rel="prefetch" href="/assets/index.html.e847ed7b.js"><link rel="prefetch" href="/assets/index.html.e4da0c5b.js"><link rel="prefetch" href="/assets/list.html.7df973a1.js"><link rel="prefetch" href="/assets/release-process.html.c5f26afc.js"><link rel="prefetch" href="/assets/autocomplete-providers.html.bf3afbaa.js"><link rel="prefetch" href="/assets/index.html.fead13b0.js"><link rel="prefetch" href="/assets/provider-api.html.fb6167c0.js"><link rel="prefetch" href="/assets/symbolprovider-config-api.html.e5d1176f.js"><link rel="prefetch" href="/assets/index.html.c9c5bc4c.js"><link rel="prefetch" href="/assets/june-2017.html.2ec4b97c.js"><link rel="prefetch" href="/assets/incomplete-classpath-warning.html.e95b428c.js"><link rel="prefetch" href="/assets/index.html.ef5f59d8.js"><link rel="prefetch" href="/assets/blog-guide.html.5d9d1848.js"><link rel="prefetch" href="/assets/building.html.be0ffe43.js"><link rel="prefetch" href="/assets/configuration-files.html.68a380a8.js"><link rel="prefetch" href="/assets/document-style.html.9c488ec5.js"><link rel="prefetch" href="/assets/file-organization.html.af6fe2c2.js"><link rel="prefetch" href="/assets/configuration-api.html.855577a9.js"><link rel="prefetch" href="/assets/developing-node-modules.html.5cbb23c0.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.1940a6db.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.c1d63c81.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.ab3118ca.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.c07f5c96.js"><link rel="prefetch" href="/assets/serialization-in-pulsar.html.de7e5ade.js"><link rel="prefetch" href="/assets/summary.html.baa67c74.js"><link rel="prefetch" href="/assets/building-pulsar.html.e3567497.js"><link rel="prefetch" href="/assets/contributing-to-official-pulsar-packages.html.3d75cfe5.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.a5a444a4.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package.html.96781036.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.466171a1.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.6b565d72.js"><link rel="prefetch" href="/assets/creating-a-theme.html.403c23b2.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.835e7191.js"><link rel="prefetch" href="/assets/debugging.html.df6a779c.js"><link rel="prefetch" href="/assets/hacking-on-the-core.html.7071325d.js"><link rel="prefetch" href="/assets/handling-uris.html.8c563eb7.js"><link rel="prefetch" href="/assets/iconography.html.c492571d.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package.html.ac8b8fef.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.9547d382.js"><link rel="prefetch" href="/assets/package-modifying-text.html.60ee3da6.js"><link rel="prefetch" href="/assets/package-word-count.html.ca43be0e.js"><link rel="prefetch" href="/assets/publishing.html.aaa16250.js"><link rel="prefetch" href="/assets/summary.html.f16082ee.js"><link rel="prefetch" href="/assets/the-init-file.html.297cbc2a.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.1b89b1d7.js"><link rel="prefetch" href="/assets/using-ppm.html.a779f576.js"><link rel="prefetch" href="/assets/writing-specs.html.624971ce.js"><link rel="prefetch" href="/assets/common-issues.html.99734a62.js"><link rel="prefetch" href="/assets/get-help.html.bfdbe229.js"><link rel="prefetch" href="/assets/installing-pulsar.html.43a36dbe.js"><link rel="prefetch" href="/assets/pulsar-basics.html.23a31e0a.js"><link rel="prefetch" href="/assets/summary.html.fbe5aa33.js"><link rel="prefetch" href="/assets/why-pulsar.html.3b86c100.js"><link rel="prefetch" href="/assets/autocomplete.html.9a1785c3.js"><link rel="prefetch" href="/assets/basic-customization.html.e6c69c22.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.4970256d.js"><link rel="prefetch" href="/assets/find-and-replace.html.f9caf3a2.js"><link rel="prefetch" href="/assets/folding.html.31ecdb72.js"><link rel="prefetch" href="/assets/github-package.html.2968c4b7.js"><link rel="prefetch" href="/assets/grammar.html.f4dfea92.js"><link rel="prefetch" href="/assets/moving-in-pulsar.html.4fa68ada.js"><link rel="prefetch" href="/assets/panes.html.051ff261.js"><link rel="prefetch" href="/assets/pending-pane-items.html.1ae56781.js"><link rel="prefetch" href="/assets/pulsar-packages.html.3a10a3e8.js"><link rel="prefetch" href="/assets/pulsar-selections.html.26a48000.js"><link rel="prefetch" href="/assets/snippets.html.f1abb54e.js"><link rel="prefetch" href="/assets/summary.html.8f749fff.js"><link rel="prefetch" href="/assets/version-control-in-pulsar.html.5e2f1c02.js"><link rel="prefetch" href="/assets/writing-in-pulsar.html.a6bb3c72.js"><link rel="prefetch" href="/assets/404.html.64337b5e.js"><link rel="prefetch" href="/assets/index.html.1c1e4c67.js"><link rel="prefetch" href="/assets/index.html.810678a9.js"><link rel="prefetch" href="/assets/index.html.b83a2a7d.js"><link rel="prefetch" href="/assets/index.html.dd03c6cc.js"><link rel="prefetch" href="/assets/index.html.210ce760.js"><link rel="prefetch" href="/assets/index.html.9eca3c43.js"><link rel="prefetch" href="/assets/index.html.cab14637.js"><link rel="prefetch" href="/assets/index.html.06df36bd.js"><link rel="prefetch" href="/assets/index.html.87d54880.js"><link rel="prefetch" href="/assets/index.html.e577fdb8.js"><link rel="prefetch" href="/assets/index.html.4f750d33.js"><link rel="prefetch" href="/assets/index.html.961491a9.js"><link rel="prefetch" href="/assets/index.html.6fdde28b.js"><link rel="prefetch" href="/assets/index.html.18ec6d61.js"><link rel="prefetch" href="/assets/index.html.3f5a2c09.js"><link rel="prefetch" href="/assets/index.html.356e881a.js"><link rel="prefetch" href="/assets/index.html.8e214a56.js"><link rel="prefetch" href="/assets/index.html.3c0ff3f4.js"><link rel="prefetch" href="/assets/index.html.965344cf.js"><link rel="prefetch" href="/assets/index.html.bdd2bb28.js"><link rel="prefetch" href="/assets/index.html.cfc5b895.js"><link rel="prefetch" href="/assets/index.html.053491fa.js"><link rel="prefetch" href="/assets/index.html.b7ca8a42.js"><link rel="prefetch" href="/assets/index.html.35246ef6.js"><link rel="prefetch" href="/assets/index.html.b21c5ab9.js"><link rel="prefetch" href="/assets/index.html.f11c4497.js"><link rel="prefetch" href="/assets/index.html.0c872e5d.js"><link rel="prefetch" href="/assets/index.html.708f4941.js"><link rel="prefetch" href="/assets/index.html.c6b8dd70.js"><link rel="prefetch" href="/assets/index.html.94776ad5.js"><link rel="prefetch" href="/assets/index.html.a522b1fd.js"><link rel="prefetch" href="/assets/index.html.31f589ce.js"><link rel="prefetch" href="/assets/photoswipe.esm.09e03fed.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container no-sidebar has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo light" src="/logo-name-navbar-light.svg" alt><img class="logo dark" src="/logo-name-navbar-dark.svg" alt><!----></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/download.html" class="nav-link" aria-label="Download"><span class="icon fas fa-solid fa-download"></span>Download<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/" class="nav-link" aria-label="Docs"><span class="icon fas fa-solid fa-file-lines"></span>Docs<!----></a></div><div class="nav-item hide-in-mobile"><a href="/repos.html" class="nav-link" aria-label="Repositories"><span class="icon fas fa-brands fa-github"></span>Repositories<!----></a></div><div class="nav-item hide-in-mobile"><a href="/about.html" class="nav-link" aria-label="About Us"><span class="icon fas fa-solid fa-sun"></span>About Us<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link active" aria-label="Blog"><span class="icon fas fa-solid fa-blog"></span>Blog<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Community"><span class="title"><span class="icon fas fa-solid fa-user-group"></span>Community</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/community.html" class="nav-link" aria-label="Community areas"><span class="icon fas fa-solid fa-house"></span>Community areas<!----></a></li><li class="dropdown-item"><a href="https://github.com/orgs/pulsar-edit/discussions" rel="noopener noreferrer" target="_blank" aria-label="Discussions" class="nav-link"><span class="icon fas fa-solid fa-comments"></span>Discussions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://discord.gg/7aEbB9dGRT" rel="noopener noreferrer" target="_blank" aria-label="Discord" class="nav-link"><span class="icon fas fa-brands fa-discord"></span>Discord<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://www.reddit.com/r/pulsaredit/" rel="noopener noreferrer" target="_blank" aria-label="Reddit" class="nav-link"><span class="icon fas fa-brands fa-reddit"></span>Reddit<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://fosstodon.org/@pulsaredit" rel="noopener noreferrer" target="_blank" aria-label="Mastodon" class="nav-link"><span class="icon fas fa-brands fa-mastodon"></span>Mastodon<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://lemmy.ml/c/pulsaredit" rel="noopener noreferrer" target="_blank" aria-label="Lemmy" class="nav-link"><span class="icon fas fa-solid fa-users"></span>Lemmy<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/donate.html" class="nav-link" aria-label="Donate"><span class="icon fas fa-solid fa-hand-holding-dollar"></span>Donate<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://web.pulsar-edit.dev/" rel="noopener noreferrer" target="_blank" aria-label="Packages" class="nav-link"><span class="icon fas fa-solid fa-box-open"></span>Packages<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/pulsar-edit" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Modern Tree-sitter, part 5: injections</h1><div class="page-info"><span class="author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">savetheclocktower</span></span><span property="author" content="savetheclocktower"></span></span><!----><span class="date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>November 10, 2023</span><meta property="datePublished" content="2023-11-10T00:00:00.000Z"></span><span class="category-info" aria-label="Category🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category1 clickable" role="navigation">dev</span></li></ul><meta property="articleSection" content="dev"></span><span aria-label="Tag🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag7 clickable" role="navigation">modernization</span></li><li><span class="tag tag6 clickable" role="navigation">tree-sitter</span></li></ul><meta property="keywords" content="modernization,tree-sitter"></span><span class="reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 16 min</span><meta property="timeRequired" content="PT16M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#a-mental-model-for-injections" class="router-link-active router-link-exact-active toc-link level2">A mental model for injections</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#language-layers" class="router-link-active router-link-exact-active toc-link level3">Language layers</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#how-tree-sitter-envisions-injections" class="router-link-active router-link-exact-active toc-link level2">How Tree-sitter envisions injections</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#how-pulsar-implements-injections" class="router-link-active router-link-exact-active toc-link level2">How Pulsar implements injections</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#how-does-it-know-which-language-to-use" class="router-link-active router-link-exact-active toc-link level3">How does it know which language to use?</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#architecture" class="router-link-active router-link-exact-active toc-link level2">Architecture</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#challenges" class="router-link-active router-link-exact-active toc-link level3">Challenges</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#strange-injection-tricks" class="router-link-active router-link-exact-active toc-link level2">Strange injection tricks</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#redaction-in-injections" class="router-link-active router-link-exact-active toc-link level3">“Redaction” in injections</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#macros-in-rust-c-c" class="router-link-active router-link-exact-active toc-link level3">Macros in Rust/C/C++</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#injecting-highlighting-for-urls-and-todos" class="router-link-active router-link-exact-active toc-link level3">Injecting highlighting for URLs and TODOs</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#markdown-and-front-matter" class="router-link-active router-link-exact-active toc-link level3">Markdown and front matter</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.html#next-time" class="router-link-active router-link-exact-active toc-link level2">Next time</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p>One annoying thing that software developers do is insist on writing in <em>more than one language at once</em>. Web developers are espeically obnoxious about this — routinely, for instance, putting CSS inside their HTML, or HTML inside their JavaScript, or CSS inside their HTML inside their JavaScript.</p><p>Code editors like Pulsar need to roll with this, so today we’ll talk about how the modern Tree-sitter system handles what we call <em>injections</em>.</p><!-- more --><p>The TextMate grammar system understands injections. In any context, a TextMate grammar can include a subset of its own rules… or an entirely separate grammar.</p><p>But Tree-sitter needs something a bit more elaborate. If I’ve got CSS inside a <code>style</code> tag in my HTML file, now I’ve got <em>two different parsers</em>, each responsible for a different range of code. If I make some changes inside that <code>style</code> block, both parsers need to react to it.</p><p>Injections cover a wide range of use cases — from the examples above to fenced code blocks in Markdown files to special-purpose injections that recognize things like URLs. Injections allow us to do some powerful and useful things that would be hard to do otherwise — including some things that TextMate injections can’t do at all.</p><h2 id="a-mental-model-for-injections" tabindex="-1"><a class="header-anchor" href="#a-mental-model-for-injections" aria-hidden="true">#</a> A mental model for injections</h2><p>Let’s pretend we have a simple HTML file that looks like this:</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ltr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Sample<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
			<span class="token selector">body</span> <span class="token punctuation">{</span>
				<span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
			window<span class="token punctuation">.</span>dataLayer <span class="token operator">=</span> window<span class="token punctuation">.</span>dataLayer <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">function</span> <span class="token function">gtag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				dataLayer<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token function">gtag</span><span class="token punctuation">(</span><span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">gtag</span><span class="token punctuation">(</span><span class="token string">&quot;config&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;G-ABCDEFGHIJ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We haven’t gotten very close to the machinery so far in this series, but I’ve been content to have you model this as a single document with a single Tree-sitter HTML parser responsible for all syntax highlighting. That works fine until we get to the contents of the <code>style</code> and <code>script</code> elements.</p><p>To the Tree-sitter HTML parser, a <code>style</code> element looks like this:</p><p><img src="/assets/tree-sitter-tools-style-element.6c7c3556.png" alt="visualization of a style element in tree-sitter"></p><p>You can see that it performs the usual parsing on the start and end tags, but punts on parsing the CSS itself — instead marking it as <code>raw_text</code>. This is what it should do! It’s not a CSS parser, after all. It treats the inline <code>script</code> element similarly, marking its contents as <code>raw_text</code> because it doesn’t understand JavaScript.</p><p>To apply syntax highlighting to these areas, we need to bring in parsers that understand these languages.</p><p>So our mental model needs to evolve. Instead of one buffer with one parser, we have one buffer with three parsers. We need a name for “a region of the buffer that uses a specific grammar to be understood,” so let’s call it a <em>language layer</em>, because that’s what Pulsar calls it under the hood.</p><h3 id="language-layers" tabindex="-1"><a class="header-anchor" href="#language-layers" aria-hidden="true">#</a> Language layers</h3><p>Imagine a simpler HTML file that doesn’t have any inline <code>style</code> or <code>script</code> tags:</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ltr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Sample<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Here we’re looking at a buffer with a single language layer at the root. When I type a new keystroke in this buffer, only one Tree-sitter parser has to do any re-parsing work, and only one layer needs to be consulted when re-applying syntax highlighting.</p><p>Once I add a <code>style</code> block…</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ltr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Sample<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
			<span class="token selector">body</span> <span class="token punctuation">{</span>
				<span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>…I trigger the creation of a second language layer. This new layer is a <em>child</em> of the root HTML layer — because the HTML layer is its reason for being, and the CSS layer might go away in the future if the HTML layer changes. The new language layer uses a Tree-sitter CSS parser.</p><p>When I add back the <code>script</code> block…</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ltr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Sample<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
			<span class="token selector">body</span> <span class="token punctuation">{</span>
				<span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
			window<span class="token punctuation">.</span>dataLayer <span class="token operator">=</span> window<span class="token punctuation">.</span>dataLayer <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">function</span> <span class="token function">gtag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				dataLayer<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token function">gtag</span><span class="token punctuation">(</span><span class="token string">&quot;js&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">gtag</span><span class="token punctuation">(</span><span class="token string">&quot;config&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;G-ABCDEFGHIJ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>…I trigger the creation of another language layer: a JavaScript layer that is also a child of the root HTML layer. Now there are <em>three</em> layers that might need to be consulted for syntax highlighting and other tasks.</p><p><img src="/assets/tree-sitter-injection-illustration.c0de6ada.png" alt="tree-sitter injection illustration"></p><p>And it doesn’t stop here! Certain constructs inside of the JavaScript, like regular expressions or tagged template literals, might carry their own injections, in which case new language layers would be created as children of the JavaScript layer. The result is a tree of language layers which cooperate to apply syntax highlighting to our buffer.</p><p>This might feel impossibly complex, but it isn’t. It’s just a different approach to what was already being done with TextMate grammars. In a minute I’ll explain how Pulsar manages this complexity.</p><h2 id="how-tree-sitter-envisions-injections" tabindex="-1"><a class="header-anchor" href="#how-tree-sitter-envisions-injections" aria-hidden="true">#</a> How Tree-sitter envisions injections</h2><p>The Tree-sitter CLI tool performs its own code highlighting, so it needs <a href="https://tree-sitter.github.io/tree-sitter/syntax-highlighting#language-injection" target="_blank" rel="noopener noreferrer">its own solution for injections<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. It envisions a query file called <code>injections.scm</code> that maps certain tree nodes to certain languages. For instance, here’s the HTML parser’s <code>injections.scm</code>:</p><div class="language-scm ext-scm line-numbers-mode"><pre class="language-scm"><code>((script_element
  (raw_text) @injection.content)
 (#set! injection.language &quot;javascript&quot;))

((style_element
  (raw_text) @injection.content)
 (#set! injection.language &quot;css&quot;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>These are simple examples, but the website documentation covers more advanced scenarios. For instance, the name of the language might not be hard-coded in the query file; it might be something that you’ll need to determine from the tree itself, like by inspecting a <a href="https://en.wikipedia.org/wiki/Here_document#Perl-influenced" target="_blank" rel="noopener noreferrer">heredoc string<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>’s tag:</p><div class="language-ruby ext-rb line-numbers-mode"><pre class="language-ruby"><code>list_items<span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>item<span class="token operator">|</span>
  puts <span class="token string-literal heredoc-string"><span class="token delimiter"><span class="token punctuation">&lt;&lt;~</span><span class="token symbol">HTML</span></span><span class="token string">
    &lt;li&gt;</span><span class="token interpolation"><span class="token delimiter punctuation">#{</span><span class="token content">item<span class="token punctuation">.</span>name</span><span class="token delimiter punctuation">}</span></span><span class="token string">&lt;/li&gt;
  </span><span class="token delimiter"><span class="token symbol">HTML</span></span></span>
<span class="token keyword">end</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This is a thorough system, and we’ve already shown how query files can solve problems like syntax highlighting and injection hinting. So it can solve our language injection problem, right?</p><h2 id="how-pulsar-implements-injections" tabindex="-1"><a class="header-anchor" href="#how-pulsar-implements-injections" aria-hidden="true">#</a> How Pulsar implements injections</h2><p>The stuff I just described makes a lot of sense, and it’s possible we’ll do it someday. But here’s how Pulsar does it now:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>atom<span class="token punctuation">.</span>grammars<span class="token punctuation">.</span><span class="token function">addInjectionPoint</span><span class="token punctuation">(</span><span class="token string">&quot;text.html.basic&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;script_element&quot;</span><span class="token punctuation">,</span>
	<span class="token function">language</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">content</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> node<span class="token punctuation">.</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

atom<span class="token punctuation">.</span>grammars<span class="token punctuation">.</span><span class="token function">addInjectionPoint</span><span class="token punctuation">(</span><span class="token string">&quot;text.html.basic&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;style_element&quot;</span><span class="token punctuation">,</span>
	<span class="token function">language</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;css&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">content</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> node<span class="token punctuation">.</span><span class="token function">child</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This code block is the equivalent of the above query file for HTML injections. It’s got a similar amount of flexibility for selecting a target (e.g., “the second child of a <code>style_element</code> node”) and the ability to determine the language name either dynamically or statically. But we’ve done everything else via queries; why do we do injections this way instead?</p><ol><li><p>The <code>addInjectionPoint</code> API was added by the legacy Tree-sitter implementation. For reasons of continuity, it makes a lot of sense to keep using this API rather than switch to something that’s functionally the same.</p></li><li><p>In fact, there’s one thing that the <code>addInjectionPoint</code> API does that a hypothetical <code>injections.scm</code> file can’t: it can be used to add injections to Language X <em>even by someone who doesn’t control the <code>language-x</code> bundle</em>. This makes it far more useful to Pulsar! It means that someone can write their own parser that injects itself into another language, whether in the form of a community package or a few lines in a user’s <code>init.js</code>.</p></li></ol><p>To me, it doesn’t make sense to deprecate the <code>addInjectionPoint</code> approach when it can do things that a query-based approach can’t. Still, lots of Tree-sitter parsers include that query file, so I imagine that Pulsar will eventually support it <em>in addition to</em> the <code>addInjectionPoint</code> API.</p><h3 id="how-does-it-know-which-language-to-use" tabindex="-1"><a class="header-anchor" href="#how-does-it-know-which-language-to-use" aria-hidden="true">#</a> How does it know which language to use?</h3><p>You might’ve noticed that both the Tree-sitter query file example and our <code>addInjectionPoint</code> example refer to the to-be-injected language rather casually — <code>javascript</code> and <code>css</code>. Internally, grammars tend to refer to one another via their root scope — as in the <code>text.html.basic</code> case above. So why not just use the root scope?</p><p>Two reasons:</p><ol><li>In our example, the HTML grammar shouldn’t necessarily hard-code references to the injectable grammars it wants. It makes more abstract sense to describe the language it wants as <code>javascript</code> instead of <code>source.js</code> — because more than one grammar could theoretically identify as a JavaScript grammar, and because a grammar might want to respond to more than one name. (<code>js</code> and <code>javascript</code>, <code>c++</code> and <code>cpp</code>, and so forth.)</li><li>There are multiple use cases for associating a shorthand token in a buffer file to a language name. I mentioned above how <a href="https://en.wikipedia.org/wiki/Heredoc" target="_blank" rel="noopener noreferrer">heredoc strings<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> often hint at the language of the string content via the tag. (And as I write this document, I glance at a dozen other examples: fenced code blocks in Markdown.) So it’s useful for us to be able to determine the to-be-injected language dynamically by inspecting the content of the buffer. We need to meet those use cases where they are.</li></ol><p>So when an injection wants <code>javascript</code>, we need to be able to match it to our <code>source.js</code> grammar. That happens via <a href="https://github.com/pulsar-edit/pulsar/blob/v1.110.0/packages/language-javascript/grammars/tree-sitter-2-javascript.cson#L6" target="_blank" rel="noopener noreferrer">a property in the grammar definition file<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>; the grammar itself describes its “short” name.</p><h2 id="architecture" tabindex="-1"><a class="header-anchor" href="#architecture" aria-hidden="true">#</a> Architecture</h2><p>No matter which approach we use for <em>describing</em> injections, the job of <em>processing</em> injections is roughly the same. All of Pulsar’s Tree-sitter support is written with the understanding that there could be an arbitrary number of grammars that need to be consulted when an edit happens. So the job of parsing a document is divided up into some number of <code>LanguageLayer</code> classes arranged hierarchically.</p><p>To visualize what we described above, you can once again use <a href="https://web.pulsar-edit.dev/packages/tree-sitter-tools" target="_blank" rel="noopener noreferrer">tree-sitter-tools<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Open your favorite HTML document, then run the <strong>Tree Sitter Tools: Open Inspector For Editor</strong> command. You’ll be able to see all of a document’s trees in a drop-down list:</p><p><img src="/assets/tree-sitter-tools-tree-list.7475c4eb.png" alt="a list of language layers in a buffer"></p><p>The first item in the list will always be the “root” tree. Other items, if present, represent injections. And because injected languages can have their own injections, this list can grow to arbitrary length.</p><p>When the user edits the buffer, even with a single keystroke, we re-parse the document from the root down as follows:</p><ol><li>The root layer re-parses.</li><li>When that’s done, Pulsar looks for possible injections by querying for nodes that have been specified in calls to <code>addInjectionPoint</code>.</li><li>If those nodes match the criteria of <code>addInjectionPoint</code> <em>(does the injection describe a language whose name we can match to a grammar? does the node specified by the <code>content</code> callback exist?)</em>, then we try to match them up to the layers that already exist. Layers that can’t be matched to current injection nodes are disposed of, and nodes that can’t be matched to existing layers get new layers created for them.</li><li>The process starts over for each layer at the next level of depth in the tree until all injections are current and all parsers have re-parsed.</li></ol><p>Any keystroke can create a brand new injection <em>or</em> invalidate one that used to exist. If I put the cursor inside of <code>&lt;style&gt;</code> and insert an <code>x</code>, changing it to <code>&lt;styxle&gt;</code>, then the CSS injection would no longer exist, and its corresponding <code>LanguageLayer</code> instance would need to be destroyed. If I then undo my change, the parse tree restores the <code>style_element</code> node, and a new language layer is created.</p><p>Does this feel overwhelming? That’s fair. After all, I’m writing this blog post in a buffer with <strong>32</strong> different language layers across the various code examples, and you’d think that would add up to one hell of a performance penalty on each keystroke. But it doesn’t.</p><p>Here are a few reasons why:</p><ol><li><p>We don’t revisit every single language layer on every single keystroke because we can determine when a given buffer change <em>cannot possibly</em> affect a given injection. For instance, if I’m editing a section of my HTML file <em>outside</em> of the <code>style</code> block, then Pulsar knows it doesn’t have to re-parse the CSS inside of that <code>style</code> block yet. It knows that the layer’s parse tree, though <em>technically</em> stale, is not invalid, and will defer re-parsing until an edit happens within its extent of the buffer. (This is true even if those edits cause the <code>style</code> block to shift its position in the document!) As a result, lots of buffer changes can short-circuit the exhaustive process I just described.</p></li><li><p>Syntax highlighting <em>in particular</em> is designed for performance, even in injection scenarios. After a buffer’s initial highlighting pass, a given section of code will retain its highlighting indefinitely, even if its position in the buffer shifts as the result of other edits.</p><p>Syntax re-highlighting only happens when a buffer range is specifically invalidated. When an edit happens, Tree-sitter tells us how that edit affects the syntax tree, which in turn tells us which parts of the buffer need to be re-highlighted — and, just as importantly, which parts <em>don’t</em> need to be re-highlighted.</p></li><li><p>Tree-sitter is faster than you think it is. The smaller the edit, the more the parser can reuse its old work, and the faster the re-parse happens.</p></li><li><p>Hardly anything in this process happens synchronously, so buffer operations will <em>feel</em> fast even in the rare case where Tree-sitter needs time to catch up.</p></li></ol><h3 id="challenges" tabindex="-1"><a class="header-anchor" href="#challenges" aria-hidden="true">#</a> Challenges</h3><p>The systems we described in the last two installments — <a href="https://pulsar-edit.dev/blog/20231013-savetheclocktower-modern-tree-sitter-part-3.html" target="_blank" rel="noopener noreferrer">syntax highlighting<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, <a href="https://pulsar-edit.dev/blog/20231031-savetheclocktower-modern-tree-sitter-part-4.html" target="_blank" rel="noopener noreferrer">code folding, and indentation hinting<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> — are much easier to explain when we don’t have to think about injections. How do we make them work in a multi-language buffer?</p><p>Annoyingly, the answer is different for each system. For instance:</p><ul><li>To support code folding in an environment with multiple injected languages, we’d want to ask <em>each layer</em> for its code folds, then combine the results.</li><li>If the user presses <kbd>Return</kbd> and we want to know whether to indent the next line, we should ask <em>one specific layer</em> — the one most qualified to answer that question at the given cursor position.</li></ul><p>So sometimes we need to <em>aggregate</em> across layers, but other times we need to <em>pick a winner</em>.</p><p>Picking a winner is the obvious approach for indentation when you think it through. If I hit <kbd>Return</kbd> when the cursor is in a <code>script</code> block, then I’m writing JavaScript, and the JavaScript layer should be the one making indentation decisions. More generally, this means that if more than one layer is active at a given buffer position, we should pick the <em>deepest</em> layer and ask it to decide. (Sometimes this means the deepest layer that <em>fulfills a certain criterion</em> — in this case, the deepest layer that actually defines an indentation query.)</p><p>But aggregating is the obvious approach for other scenarios. Tree-sitter grammars get to support Pulsar’s <strong>Editor: Select Smaller Syntax Node</strong> and <strong>Editor: Select Larger Syntax Node</strong> commands (you don’t know you need them in your life until you give them a try!) and those commands should work properly across injection boundaries. So when either command is invoked with the cursor at a given position, we should figure out which nodes contain that point <em>regardless of which parse tree owns them</em>. Then we can arrange those nodes from smallest to largest.</p><video style="max-width:100%;" autoplay controls muted loop><source src="/assets/tree-sitter-select-larger-syntax-node.522d277a.webm" type="video/webm"><source src="/assets/tree-sitter-select-larger-syntax-node.07d04699.mp4" type="video/mp4"><p>Your browser doesn’t support HTML video. <a href="@source/blog/assets/tree-sitter-select-larger-syntax-node.mp4">Download this video</a> instead.</p></video><p>You can see the results here. As I expand the selection by invoking <strong>Select Larger Syntax Node</strong> over and over, the selection starts with nodes in the CSS injection, jumps to nodes in the parent JavaScript injection, then jumps again to nodes in the root HTML injection.</p><h2 id="strange-injection-tricks" tabindex="-1"><a class="header-anchor" href="#strange-injection-tricks" aria-hidden="true">#</a> Strange injection tricks</h2><p>Mixing languages in a single buffer is messy, so injections need some unusual features in order to deal with that messiness. These features can be used in surprising and powerful ways.</p><h3 id="redaction-in-injections" tabindex="-1"><a class="header-anchor" href="#redaction-in-injections" aria-hidden="true">#</a> “Redaction” in injections</h3><p>One thing that makes Tree-sitter injections more powerful than their TextMate equivalents is their ability to ignore content that isn’t relevant to their jobs. The injection engine “redacts” all content except what it wants a given layer to see.</p><h4 id="redacting-children" tabindex="-1"><a class="header-anchor" href="#redacting-children" aria-hidden="true">#</a> Redacting children</h4><p>Suppose you had an <code>html</code> tagged template literal:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> markup <span class="token operator">=</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> &lt;p&gt;Copyright 2020–2023 John Doe&lt;/p&gt; </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Since the tag hints at the language name, Pulsar will give you HTML syntax highlighting for free inside the literal. But that literal is still JavaScript, so what happens if we do this?</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> markup <span class="token operator">=</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> &lt;p&gt;Copyright 2020–</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> John Doe&lt;/p&gt; </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>That <code>${now.getFullYear()}</code> part isn’t actually HTML. This example won’t confuse an HTML parser, so it’s not a big deal; but there does exist valid content inside of a template interpolation that <em>definitely would</em> flummox the injection:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> evil <span class="token operator">=</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> &lt;p&gt;this might not </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token string">&quot;&lt;/p&gt;&quot;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> get parsed correctly&lt;/p&gt; </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Ideally, the HTML injection wouldn’t see that interpolation at all. So what if we could hide it?</p><p>We can. In fact, we <em>do</em>! Here’s what that template string looks like in <code>tree-sitter-tools</code>:</p><p><img src="/assets/tree-sitter-tools-template-string.34be245b.png" alt="tree-sitter-tools visualization of a JavaScript template string"></p><p>Our injection is defined such that we specify the <code>template_string</code> node as the content. That means Pulsar will use the buffer range of that node, but will <em>subtract</em> the ranges of any of the node’s children!</p><p>We can visualize this with the “Show injection ranges” option in <code>tree-sitter-tools</code>:</p><p><img src="/assets/tree-sitter-html-parser-injection.b2a40e1c.png" alt="disjoint content ranges in a Tree-sitter injection"></p><p>You can see that the HTML injection layer has two disjoint content ranges on either side of the interpolation. The Tree-sitter HTML parser won’t even know the interpolation is there.</p><p>This behavior makes sense as a default, but it can be opted out of with <code>includeChildren: true</code> in <code>addInjectionPoint</code> if it gets in your way.</p><h4 id="redacting-via-content-callback" tabindex="-1"><a class="header-anchor" href="#redacting-via-content-callback" aria-hidden="true">#</a> Redacting via <code>content</code> callback</h4><p>A grammar author has another tool to control what gets redacted: the <code>content</code> callback. It’s not limited to returning a single node! It can return an array of nodes, each with its own range; there’s no obligation for those ranges to be adjacent.</p><p>Our first HTML injection example earlier applied its own subtle redaction. We specified a <code>type</code> of <code>script_element</code>, but a <code>content</code> callback that returns that element’s second child (the <code>raw_text</code> node). So the <code>type</code> property tells Pulsar which node to query for <em>(create an injection for each <code>script</code> element)</em> but <code>content</code> selects the node(s) that will be meaningful to the parser <em>(omit the <code>&lt;script&gt;</code> and <code>&lt;/script&gt;</code> because those aren’t JavaScript)</em>.</p><p>This flexibility means that it’s possible for <em>all</em> your injections of a certain type to share <em>one</em> language layer. Instead of creating one layer for each of <em>N</em> different buffer ranges, you could create one layer with <em>N</em> disjoint content ranges. The trade-off is that an injection that covers more of the buffer will need to be re-parsed more often in response to buffer changes, but that trade-off might make sense in certain scenarios.</p><h3 id="macros-in-rust-c-c" tabindex="-1"><a class="header-anchor" href="#macros-in-rust-c-c" aria-hidden="true">#</a> Macros in Rust/C/C++</h3><p>C, C++, and Rust allow you to define macros via a preprocessor. Macros are weird for a parser: they can’t be parsed as though they’re valid source code, because they might be fragments of code that aren’t syntactically valid until <em>after</em> preprocessing.</p><p>Hence they’re a situation where a language might want to inject itself <em>into itself</em>. Consider this code example:</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name function">circleArea</span><span class="token expression"><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token number">3.1415</span><span class="token operator">*</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The <code>#define</code> keyword and the <code>circleArea(r)</code> preprocessor function signature have to be well-formed, but everything that follows is an anything-goes nightmare for a syntax highlighter. The preprocessor won’t try to parse it or make it make sense; it’ll just make the appropriate substitution throughout the source file and enforce validity later.</p><p>For the same reason, the <code>tree-sitter-c</code> parser doesn’t attempt to do any parsing of the preprocessor argument — the <code>(3.1415*(r)*(r))</code> in our above example. But that argument will <em>often</em> be valid C, so there’s no reason why we shouldn’t take a stab at it:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>atom<span class="token punctuation">.</span>grammars<span class="token punctuation">.</span><span class="token function">addInjectionPoint</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">source.c</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;preproc_function_def&quot;</span><span class="token punctuation">,</span>
	<span class="token function">language</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function">content</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> node<span class="token punctuation">.</span>lastNamedChild<span class="token punctuation">;</span> <span class="token comment">// the `preproc_arg` node</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This is a low-stakes gambit for us. If the content of the macro <em>is</em> syntactically strange, the parser might get a bit flummoxed, and the resulting highlighting might look a bit weird. But that’s OK! It won’t affect the highlighting of anything <em>outside of</em> the macro content.</p><h3 id="injecting-highlighting-for-urls-and-todos" tabindex="-1"><a class="header-anchor" href="#injecting-highlighting-for-urls-and-todos" aria-hidden="true">#</a> Injecting highlighting for URLs and TODOs</h3><p>Two built-in packages called <code>language-todo</code> and <code>language-hyperlink</code> define specialized TextMate grammars. Their purpose is to provide rules that match <code>TODO:</code> remarks (in comments) and URLs (in comments and strings), and to inject those rules into certain contexts <em>regardless of grammar</em>. This is a lovely feature of TextMate that the Atom developers got for free when implementing TextMate-style grammars back in the day.</p><p>The effect is that Pulsar can help you locate TODOs in comments by coloring them differently from the rest of the comment. It can also draw underlines under URLs and even <em>follow</em> a URL when you place your cursor inside of it and invoke the <strong>Link: Open</strong> command.</p><p><img src="/assets/tree-sitter-todo-url-injection.231723ac.png" alt="illustration of highlighting of TODOs and URLs in a line comment"></p><p>This works because a TextMate grammar can “push” its injections into any scope <em>inside any other grammar</em>, whether that other grammar asks for it or not. For instance, the <code>language-hyperlink</code> grammar injects itself into strings, so any language that defines a <code>string.*</code> scope will have those rules injected into it.</p><p>The legacy Tree-sitter system never had an equivalent feature. I missed it terribly, so I decided to create equivalent Tree-sitter parsers and grammars for these rules. These parsers, when given arbitrary text, can create nodes for things that look like URLs or TODO comments. Once those parsers existed, I could inject them into whichever grammars I wanted:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> type <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">&quot;template_string&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;string_fragment&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;comment&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	atom<span class="token punctuation">.</span>grammars<span class="token punctuation">.</span><span class="token function">addInjectionPoint</span><span class="token punctuation">(</span><span class="token string">&quot;source.js&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		type<span class="token punctuation">,</span>
		<span class="token function-variable function">language</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token string">&quot;hyperlink&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">content</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> node<span class="token punctuation">,</span>
		<span class="token literal-property property">languageScope</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There’s one new thing here: the <code>languageScope</code> option. Typically, you’ll want a grammar’s base scope name to be present inside of an injection; for instance, you’d want a <code>source.js</code> scope name to exist inside of an HTML <code>script</code> block. But that behavior doesn’t make sense for our use case. We want to add a scope name around a URL when it’s present, but otherwise we want to operate stealthily. Passing <code>null</code> to the <code>languageScope</code> option lets us bypass the default behavior.</p><p>There’s one other thing to address, though. Most comments <em>won’t</em> have URLs in them. Most strings <em>won’t</em> have URLs in them. If I use this code as-is, I’ll be creating one new injection for every string, every line comment, and every block comment in my JavaScript file, whether a URL is present or not. (This unnecessary work, believe it or not, doesn’t create any sluggishness during routine editing, but we should still try to avoid it.)</p><p>What should I do? One option would be to do what I described above: create one large injection for the entire document and have it be in charge of all comments and strings in the document. That was my first experiment, but I decided against it because the trade-off wasn’t worth it: incremental re-parses were <em>slower</em> because every buffer change meant that my URL parser had to re-scan the whole buffer.</p><p>I’m willing to chalk part of that up to my lack of experience writing Tree-sitter parsers! I’d bet there are things I can do to make those parses less costly. But in the meantime, I applied a Stupid Human Trick™ to get the best of both worlds:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">HYPERLINK_PATTERN</span> <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\bhttps?:</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> type <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">&quot;template_string&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;string_fragment&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;comment&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	atom<span class="token punctuation">.</span>grammars<span class="token punctuation">.</span><span class="token function">addInjectionPoint</span><span class="token punctuation">(</span><span class="token string">&quot;source.js&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		type<span class="token punctuation">,</span>
		<span class="token function-variable function">language</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token constant">HYPERLINK_PATTERN</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>text<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;hyperlink&quot;</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">content</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> node<span class="token punctuation">,</span>
		<span class="token literal-property property">languageScope</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>I can assure you that this feels <em>incredibly</em> silly to do, but it works: we’re pre-screening the content of the node and ignoring those that definitely don’t contain a URL. Returning <code>undefined</code> from the <code>language</code> callback prevents a layer from being needlessly created. We employ a similar strategy for the <code>TODO</code> highlighting.</p><p>There’s another thing that feels awkward about this: it’s not as <em>automatic</em> as the previous TextMate solution. Instead of being able to “push” these injections into other grammars, we’re asking those grammars to “pull” our injections into themselves.</p><p>In an ideal world, I’d be able to create a generalized injection that applied to <em>all</em> files as easily as in the TextMate grammars. But to create a Tree-sitter injection I’ve got to describe the <em>name of the node</em> I want to inject into. And there aren’t many safe assumptions you can make about Tree-sitter node naming conventions.</p><p>The saving grace here is what I mentioned above: the injection API lets you inject things into someone else’s language grammar. So if your favorite community language package doesn’t highlight TODOs and URLs, you can fix that with about six lines of JavaScript in your <code>init.js</code>.</p><h3 id="markdown-and-front-matter" tabindex="-1"><a class="header-anchor" href="#markdown-and-front-matter" aria-hidden="true">#</a> Markdown and front matter</h3><p>Markdown is how I write most of my prose, including this blog post. And for years it’s been quite popular inside static site generators like <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and its successors, but with a wrinkle: those tools support the addition of YAML metadata via <a href="https://jekyllrb.com/docs/step-by-step/03-front-matter/" target="_blank" rel="noopener noreferrer">a “front matter” block<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> at the start of a Markdown file.</p><p>There are two major Markdown parsers for Tree-sitter, both of which are written by third parties rather than by the Tree-sitter organization. <a href="https://github.com/MDeiml/tree-sitter-markdown" target="_blank" rel="noopener noreferrer">One of them<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> is being actively developed, and boasts built-in support for front matter, but has a number of bugs that are show-stoppers for Pulsar at the moment. <a href="https://github.com/ikatyang/tree-sitter-markdown" target="_blank" rel="noopener noreferrer">The other one<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> is older, <em>doesn’t</em> support front matter, and doesn’t seem to be actively maintained… but is otherwise <em>bulletproof</em>. I’d love to use the newer one for Pulsar, but I can’t justify it until it’s more stable.</p><p>So how do we get around the older parser’s lack of support for front matter? By writing our own Tree-sitter parser and using injections:</p><ol><li><a href="https://github.com/savetheclocktower/tree-sitter-frontmatter" target="_blank" rel="noopener noreferrer">Write a front matter parser<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> whose only purpose is to divide a Markdown document into two nodes: (a) front matter and (b) Markdown text.</li><li>Inject the YAML grammar into the front matter node.</li><li>Inject the Markdown grammar into the Markdown text node.</li></ol><p>In an ideal world, the parser in step 1 would be just an ordinary Tree-sitter parser for Markdown, and we’d need only the single injection for the YAML block. But this’ll tide us over just fine. Documents that don’t have front matter still get parsed by <code>tree-sitter-frontmatter</code> and will simply omit the <code>front_matter</code> node.</p><h2 id="next-time" tabindex="-1"><a class="header-anchor" href="#next-time" aria-hidden="true">#</a> Next time</h2><p>I could keep talking about injections, but I can’t afford to test your patience while we still have other topics to visit. Next time we’ll look at what Tree-sitter calls <a href="https://tree-sitter.github.io/tree-sitter/code-navigation-systems" target="_blank" rel="noopener noreferrer">code navigation systems<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>: how to use Tree-sitter to identify functions, classes, and other important parts of your code.</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/pulsar-edit/pulsar-edit.github.io/edit/main/docs/blog/20231110-savetheclocktower-modern-tree-sitter-part-5.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">Last update: </span><!----></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: github@andrewdupont.net">Andrew Dupont</span><!--]--><!--]--></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><!--<div><object type="image/svg+xml" data="/logo-name-footer.svg" ></object></div>TODO: Fix - I have simply run out of talent to make this work correctly with external CSS or modifying the internal values. At I can get this to do what I want when the SVG is inline-->

    <!--The below inline SVG is the same code (with unnecessary inkscape values removed) as is in .vuepress/public/logo-name-footer.svg but inline so I can actually manipulate it with the index.css file-->

    <div><svg
       width="150.91833mm"
       height="50.720619mm"
       viewBox="0 0 150.91833 50.720619"
       version="1.1"
       id="logo-footer"
       xmlns="http://www.w3.org/2000/svg"
       xmlns:svg="http://www.w3.org/2000/svg">
      <defs
         id="defs1442">
      </defs>
      <g
         inkscape:label="Layer 1"
         inkscape:groupmode="layer"
         id="layer1"
         transform="translate(-43.20444,-65.412972)">
        <path
           class="st0 class1"
           d="m 68.57798,84.621722 c -3.38667,0 -6.13833,2.75167 -6.13833,6.13833 0,3.38667 2.75166,6.13833 6.13833,6.13833 3.38667,0 6.13833,-2.75166 6.13833,-6.13833 0,-3.38666 -2.75166,-6.13833 -6.13833,-6.13833 z"
           id="path42"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 61.03736,99.200262 c 0.21166,0.0794 0.42333,0.13229 0.635,0.13229 0.42333,0 0.8202,-0.15875 1.1377,-0.47625 0.635,-0.635 0.635,-1.66687 0,-2.30187 -0.3175,-0.3175 -0.74083,-0.47625 -1.16416,-0.47625 -0.42334,0 -0.84667,0.15875 -1.16417,0.47625 -0.47625,0.47625 -0.60854,1.19062 -0.34396,1.7727 l -3.28083,1.27 -13.6525,16.245418 0.29104,0.29104 16.24542,-13.6525 z"
           id="path44"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 58.55027,105.65609 c 1.42875,1.21709 2.88396,2.30188 4.41854,3.28084 0.55563,-0.21167 1.77271,-0.68792 2.30188,-1.00542 -1.87854,-1.08479 -3.38667,-2.19604 -5.10646,-3.65125 z"
           id="path46"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 77.38861,79.065472 -1.27,3.28083 c -0.21167,-0.0794 -0.42334,-0.13229 -0.60855,-0.13229 -0.42333,0 -0.8202,0.15875 -1.1377,0.47625 -0.635,0.635 -0.635,1.66688 0,2.30188 0.3175,0.3175 0.74083,0.47625 1.16416,0.47625 0.42334,0 0.84667,-0.15875 1.16417,-0.47625 0.47625,-0.47625 0.60854,-1.19063 0.34396,-1.77271 l 3.28083,-1.27 13.6525,-16.24542 -0.29104,-0.29104 z"
           id="path48"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 75.2984,79.912142 c -1.95792,-1.21709 -4.25979,-1.93146 -6.72042,-1.93146 -7.03792,0 -12.77937,5.74146 -12.77937,12.77937 0,2.46063 0.71437,4.7625 1.93145,6.72042 l 0.68792,-0.26459 c 0.10583,-0.68791 0.42333,-1.32291 0.92604,-1.85208 0.10584,-0.10583 0.21167,-0.18521 0.34396,-0.29104 -0.635,-1.29646 -1.00542,-2.77813 -1.00542,-4.31271 0,-5.45041 4.445,-9.89541 9.89542,-9.89541 1.56104,0 3.01625,0.37041 4.31271,1.00541 0.0794,-0.10583 0.15875,-0.23812 0.26458,-0.34396 0.50271,-0.5027 1.13771,-0.8202 1.85209,-0.92604 z"
           id="path50"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 68.57798,100.65547 c -1.56104,0 -3.01625,-0.37042 -4.31271,-1.005418 -0.0794,0.10583 -0.15875,0.23813 -0.26458,0.34396 -0.50271,0.502708 -1.13771,0.820208 -1.85208,0.926038 l -0.26459,0.68792 c 1.95792,1.21708 4.25979,1.93146 6.72042,1.93146 7.03792,0 12.77937,-5.741458 12.77937,-12.779378 0,-2.46062 -0.71437,-4.7625 -1.93145,-6.72041 l -0.68792,0.26458 c -0.10583,0.68792 -0.42333,1.32292 -0.92604,1.85208 -0.10584,0.10584 -0.21167,0.18521 -0.34396,0.29104 0.635,1.29646 1.00542,2.77813 1.00542,4.31271 -0.0265,5.47688 -4.47146,9.895418 -9.92188,9.895418 z"
           id="path52"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 47.49069,90.786512 c -2.64583,6.50875 -2.77813,12.911668 0.0265,17.383118 l 1.40229,-1.66687 c -1.905,-3.46604 -1.905,-8.149168 -0.23813,-13.096878 1.32292,2.56646 3.01625,5.08 5.02709,7.408338 l 1.34937,-1.587498 c -2.24896,-2.67229 -4.04812,-5.52979 -5.34458,-8.44021 1.69333,-3.81 4.31271,-7.64646 7.77875,-11.1125 3.38667,-3.38667 7.19667,-6.0325 11.08604,-7.77875 2.8575,1.27 5.74146,3.04271 8.46667,5.34458 l 1.5875,-1.34937 c -2.38125,-2.03729 -4.92125,-3.70417 -7.43479,-5.00063 0.84666,-0.29104 1.66687,-0.52916 2.48708,-0.71437 4.18042,-0.9525 7.83167,-0.60854 10.63625,0.92604 l 1.66687,-1.40229 c -3.30729,-2.11667 -7.75229,-2.67229 -12.75291,-1.53458 -1.56104,0.34395 -3.12209,0.84666 -4.68313,1.50812 -7.56708,-3.09562 -14.97541,-2.75167 -19.39396,1.66688 -3.41312,3.41312 -4.55083,8.67833 -3.175,14.7902 0.34396,1.56105 0.87313,3.12209 1.50813,4.65667 z m 3.09562,-17.99167 c 3.4925,-3.4925 9.23396,-3.9952 15.3723,-1.93145 -3.4925,1.79916 -6.90563,4.28625 -9.94834,7.35541 -3.09562,3.09563 -5.55625,6.50875 -7.32896,9.94834 -0.26458,-0.82021 -0.52916,-1.64042 -0.71437,-2.48709 -1.19063,-5.42396 -0.26458,-10.00125 2.61937,-12.88521 z"
           id="path54"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 82.12465,82.319842 c 2.27541,2.72521 4.07458,5.60917 5.34458,8.44021 l -0.0265,0.0794 c -1.74625,3.88937 -4.41854,7.69937 -7.72583,11.006658 -4.86833,4.86834 -10.60979,8.22854 -16.1925,9.49854 -4.18042,0.9525 -7.83167,0.60855 -10.63625,-0.92604 l -1.66688,1.40229 c 2.19605,1.4023 4.86834,2.11667 7.85813,2.11667 1.56104,0 3.20146,-0.18521 4.89479,-0.58208 5.95313,-1.34938 12.065,-4.89479 17.19792,-10.02771 3.01625,-3.01625 5.52979,-6.429378 7.35541,-9.948328 2.06375,6.13833 1.56105,11.879788 -1.93145,15.372288 -2.64584,2.64583 -6.7998,3.62479 -11.58875,2.8575 -0.89959,0.55562 -1.79917,1.05833 -2.72521,1.50812 2.03729,0.52917 3.99521,0.82021 5.82083,0.82021 4.02167,0 7.48771,-1.27 9.94833,-3.73062 6.40292,-6.40292 4.2598,-19.129378 -4.55083,-29.474588 z"
           id="path56"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 88.23652,75.043802 c 1.16417,2.14313 1.61396,4.81542 1.34938,7.80521 0.60854,0.9525 1.16416,1.93146 1.64041,2.88396 1.00542,-4.84188 0.4498,-9.12813 -1.61395,-12.3825 z"
           id="path58"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 113.02798,84.092552 h -11.00667 v 15.00188 h 2.56646 v -5.2123 h 0.18521 l 8.22854,-0.0264 c 0.79375,0 1.45521,-0.29105 2.01083,-0.84667 0.55563,-0.55563 0.84667,-1.21708 0.84667,-1.98437 v -4.10105 c 0,-0.76729 -0.29104,-1.4552 -0.84667,-1.98437 -0.52916,-0.55563 -1.21708,-0.84667 -1.98437,-0.84667 z m 0.26458,6.95854 c 0,0.15875 -0.10583,0.26459 -0.26458,0.26459 h -8.14917 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -4.10104 c 0,-0.15875 0.10583,-0.26458 0.26458,-0.26458 h 8.14917 c 0.15875,0 0.26458,0.10583 0.26458,0.26458 z"
           id="path60"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 129.06173,96.289842 c 0,0.18521 -0.13229,0.26459 -0.23813,0.26459 h -8.17562 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -12.19729 h -2.56646 v 12.19729 c 0,0.79375 0.26458,1.45521 0.82021,2.01084 0.55562,0.55562 1.21708,0.8202 2.01083,0.8202 h 8.17562 c 0.7673,0 1.45521,-0.29104 1.98438,-0.8202 0.55562,-0.55563 0.84667,-1.21709 0.84667,-2.01084 v -12.19729 h -2.59292 z"
           id="path62"
           style="stroke-width:0.264583" />
        <polygon
           class="st0 class1"
           points="-307.4,-4970.9 -307.4,-4980.7 -343.8,-4980.7 -343.8,-5027.8 -353.6,-5027.8 -353.6,-4970.9 "
           id="polygon64"
           transform="matrix(0.26458333,0,0,0.26458333,227.77777,1414.3382)" />
        <path
           class="st0 class1"
           d="m 158.6686,84.066092 h -8.17562 c -0.79375,0 -1.45521,0.29105 -2.01083,0.82021 -0.55563,0.55563 -0.82021,1.21709 -0.82021,2.01084 v 3.14854 c 0,0.79375 0.26458,1.4552 0.82021,2.01083 0.55562,0.55562 1.21708,0.82021 2.01083,0.82021 h 8.17562 c 0.10584,0 0.23813,0.0794 0.23813,0.26458 v 3.14854 c 0,0.18521 -0.13229,0.26459 -0.23813,0.26459 h -8.17562 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -1.05833 h -2.56646 v 1.05833 c 0,0.79375 0.26458,1.45521 0.82021,2.01084 0.55562,0.55562 1.21708,0.8202 2.01083,0.8202 h 8.17562 c 0.7673,0 1.45521,-0.29104 1.98438,-0.8202 0.55562,-0.55563 0.84667,-1.21709 0.84667,-2.01084 v -3.14854 c 0,-0.79375 -0.29105,-1.45521 -0.84667,-2.01083 -0.55563,-0.55563 -1.21708,-0.82021 -1.98438,-0.82021 h -8.17562 c -0.15875,0 -0.26458,-0.10583 -0.26458,-0.26458 v -3.14854 c 0,-0.15875 0.10583,-0.26459 0.26458,-0.26459 h 8.17562 c 0.10584,0 0.23813,0.0794 0.23813,0.26459 v 1.05833 h 2.59292 v -1.05833 c 0,-0.79375 -0.29105,-1.45521 -0.84667,-2.01084 -0.52917,-0.52916 -1.21708,-0.82021 -1.98438,-0.82021 z"
           id="path66"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 175.04631,84.066092 h -8.14916 c -0.79375,0 -1.45521,0.29105 -2.01084,0.82021 -0.55562,0.55563 -0.82021,1.21709 -0.82021,2.01084 v 12.19729 h 2.56646 v -5.13292 h 8.67834 v 5.13292 h 2.59291 v -12.19729 c 0,-0.79375 -0.29104,-1.45521 -0.84666,-2.01084 -0.55563,-0.52916 -1.24355,-0.82021 -2.01084,-0.82021 z m 0.26459,7.35542 h -8.67834 v -4.49792 c 0,-0.15875 0.10584,-0.26458 0.26459,-0.26458 h 8.14916 c 0.15875,0 0.26459,0.10583 0.26459,0.26458 z"
           id="path68"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 193.2761,93.035472 c 0.55563,-0.55563 0.84667,-1.21709 0.84667,-1.98438 v -4.10104 c 0,-0.76729 -0.29104,-1.45521 -0.84667,-1.98437 -0.55562,-0.55563 -1.24354,-0.84667 -2.01083,-0.84667 h -10.98021 v 15.00187 h 2.56646 v -5.23875 h 3.96875 l 0.0265,0.0529 4.36562,5.18583 h 2.88396 v -0.55562 l -3.91583,-4.65667 h 1.05833 c 0.82021,-0.0265 1.48167,-0.3175 2.03729,-0.87312 z m -10.16,-1.71979 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -4.10104 c 0,-0.15875 0.10583,-0.26458 0.26458,-0.26458 h 8.14917 c 0.15875,0 0.26458,0.10583 0.26458,0.26458 v 4.10104 c 0,0.15875 -0.10583,0.26459 -0.26458,0.26459 z"
           id="path70"
           style="stroke-width:0.264583" />
      </g>
    </svg></div>

    <div class="socialsBar">
      <a href=http://github.com/pulsar-edit>
        <i class="fa-brands fa-github"></i>
      </a>
      <a href=https://github.com/orgs/pulsar-edit/discussions>
        <i class="fa-solid fa-comments"></i>
      </a>
      <a href=https://discord.gg/7aEbB9dGRT>
        <i class="fa-brands fa-discord"></i>
      </a>
      <a href=https://www.reddit.com/r/pulsaredit/>
        <i class="fa-brands fa-reddit"></i>
      <a rel="me" href=https://fosstodon.org/@pulsaredit>
        <i class="fa-brands fa-mastodon"></i>
      </a>
      <a href=https://lemmy.ml/c/pulsaredit>
        <i class="fa-solid fa-users"></i>
      </a>
      <a href=https://opencollective.com/pulsar-edit>
        <i class="fa-solid fa-hand-holding-dollar"></i>
      </a>
    </div>

    <hr>

    <div class="linksBox">
      <div class="linksBoxLeft">
        <p class="linksBoxHeader"> Pulsar </p>
        <div class="linksBoxContent">
          <ul>
            <li>
              <a href="/download.html"> Downloads </a>
            </li>
            <li>
              <a href="/docs/"> Documentation </a>
            </li>
            <li>
              <a href=https://web.pulsar-edit.dev/> Package Repository </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="linksBoxMid">
        <p class="linksBoxHeader"> Team </p>
        <div class="linksBoxContent">
          <ul>
            <li>
              <a href="/about.html"> About Us </a>
            </li>
            <li>
              <a href="/blog/"> Blog </a>
            </li>
            <li>
              <a href=http://github.com/pulsar-edit> Org Repositories </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="linksBoxRight">
        <p class="linksBoxHeader"> Resources </p>
        <div class="linksBoxContent">
          <ul>
            <li>
              <a href=https://pulsar-edit.dev/docs/resources/privacy> Privacy Policy </a>
            </li>
            <li>
              <a href=https://pulsar-edit.dev/docs/resources/conduct> Code of Conduct </a>
            </li>
            <li>
              <a href=https://pulsar-edit.dev/community.html> Contact Us </a>
            </li>
          </ul>
        </div>
      </div>

    </div>



  <hr>

  <div class="copyrightBar">
    <span> Pulsar-Edit © 2022-2023 </span>
  </div></div><!----></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.87197fef.js" defer></script>
  </body>
</html>
