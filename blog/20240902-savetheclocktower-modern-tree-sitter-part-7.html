<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <script src="/download-preselect.js"></script><title>Modern Tree-sitter, part 7: the pain points and the promise | </title><meta name="description" content="A Community-led Hyper-Hackable Text Editor">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.a535866b.css">
    <link rel="modulepreload" href="/assets/app.87197fef.js"><link rel="modulepreload" href="/assets/20240902-savetheclocktower-modern-tree-sitter-part-7.html.33be2b15.js"><link rel="modulepreload" href="/assets/20240902-savetheclocktower-modern-tree-sitter-part-7.html.7fead2a6.js"><link rel="prefetch" href="/assets/about.html.6eb730a3.js"><link rel="prefetch" href="/assets/community.html.1cb2fcef.js"><link rel="prefetch" href="/assets/donate.html.21bc69cb.js"><link rel="prefetch" href="/assets/download.html.dbc595e7.js"><link rel="prefetch" href="/assets/index.html.64f1ae66.js"><link rel="prefetch" href="/assets/repos.html.ad6ff885.js"><link rel="prefetch" href="/assets/20221112-Daeraxa-ExamplePost.html.20d587f5.js"><link rel="prefetch" href="/assets/20221127-confused-Techie-SunsetMisadventureBackend.html.dad96414.js"><link rel="prefetch" href="/assets/20221208-Daeraxa-DistroTubeVideo.html.a94d35bc.js"><link rel="prefetch" href="/assets/20221215-confused-Techie-v1.100.1-beta.html.a78b753f.js"><link rel="prefetch" href="/assets/20230114-confused-Techie-v1.101.0-beta.html.2235fad4.js"><link rel="prefetch" href="/assets/20230201-Daeraxa-FebUpdate.html.78289db0.js"><link rel="prefetch" href="/assets/20230209-mauricioszabo-tree-sitter-part-1.html.580bcde1.js"><link rel="prefetch" href="/assets/20230215-Daeraxa-v1.102.0.html.6a8c9a26.js"><link rel="prefetch" href="/assets/20230216-Daeraxa-ReleaseStrategyUpdate.html.97dbb122.js"><link rel="prefetch" href="/assets/20230227-Daeraxa-Survey1.html.cce17cec.js"><link rel="prefetch" href="/assets/20230301-Daeraxa-MarUpdate.html.0a811ee1.js"><link rel="prefetch" href="/assets/20230315-Daeraxa-v1.103.0.html.9a66cb6e.js"><link rel="prefetch" href="/assets/20230319-confused-Techie-HowLicenseNoneDeletedPackages.html.64b9bafc.js"><link rel="prefetch" href="/assets/20230326-Daeraxa-Survey1-Results.html.e8bb3de9.js"><link rel="prefetch" href="/assets/20230401-Daeraxa-AprUpdate.html.ef4f2fd8.js"><link rel="prefetch" href="/assets/20230401-confused-Techie-PON.html.f6d970d6.js"><link rel="prefetch" href="/assets/20230418-Daeraxa-v1.104.0.html.498d1fde.js"><link rel="prefetch" href="/assets/20230430-Daeraxa-Survey2.html.570aacd8.js"><link rel="prefetch" href="/assets/20230501-Daeraxa-MayUpdate.html.40844741.js"><link rel="prefetch" href="/assets/20230516-Daeraxa-v1.105.0.html.bf43148e.js"><link rel="prefetch" href="/assets/20230525-Daeraxa-Survey2-Results.html.af46184a.js"><link rel="prefetch" href="/assets/20230601-Daeraxa-JuneUpdate.html.5770013f.js"><link rel="prefetch" href="/assets/20230610-Daeraxa-2kStars.html.f63a03a7.js"><link rel="prefetch" href="/assets/20230616-Daeraxa-v1.106.0.html.22d3e3b7.js"><link rel="prefetch" href="/assets/20230701-Daeraxa-JulyUpdate.html.acbe26e1.js"><link rel="prefetch" href="/assets/20230715-DeeDeeG-v1.107.0.html.38608ae1.js"><link rel="prefetch" href="/assets/20230716-Daeraxa-v1.107.1.html.d06cfc56.js"><link rel="prefetch" href="/assets/20230801-Daeraxa-AugustUpdate.html.a30019be.js"><link rel="prefetch" href="/assets/20230816-DeeDeeG-v1.108.0.html.11a20d1e.js"><link rel="prefetch" href="/assets/20230825-Daeraxa-ChocolateyUpdate.html.53eb3298.js"><link rel="prefetch" href="/assets/20230903-confused-Techie-pulsars-ci.html.f7812f3a.js"><link rel="prefetch" href="/assets/20230904-Daeraxa-SeptemberUpdate.html.77d3175b.js"><link rel="prefetch" href="/assets/20230916-Daeraxa-v1.109.0.html.fcf83ec5.js"><link rel="prefetch" href="/assets/20230917-Daeraxa-LemmyCommunity.html.95f4ca86.js"><link rel="prefetch" href="/assets/20230925-savetheclocktower-modern-tree-sitter-part-1.html.3d8130c9.js"><link rel="prefetch" href="/assets/20230927-savetheclocktower-modern-tree-sitter-part-2.html.c9b9a8bd.js"><link rel="prefetch" href="/assets/20231004-Daeraxa-OctoberUpdate.html.3b1907f4.js"><link rel="prefetch" href="/assets/20231013-savetheclocktower-modern-tree-sitter-part-3.html.479e8a22.js"><link rel="prefetch" href="/assets/20231016-Daeraxa-v1.110.0.html.1a72c098.js"><link rel="prefetch" href="/assets/20231031-savetheclocktower-modern-tree-sitter-part-4.html.ac9522c5.js"><link rel="prefetch" href="/assets/20231109-Daeraxa-NovemberUpdate.html.e36ef3bb.js"><link rel="prefetch" href="/assets/20231110-savetheclocktower-modern-tree-sitter-part-5.html.bb998452.js"><link rel="prefetch" href="/assets/20231116-Daeraxa-v1.111.0.html.d47bf460.js"><link rel="prefetch" href="/assets/20231212-Daeraxa-DecemberUpdate.html.0098fa41.js"><link rel="prefetch" href="/assets/20231216-Daeraxa-v1.112.0.html.cc8771c3.js"><link rel="prefetch" href="/assets/20231219-DeeDeeG-v1.112.1.html.0ec91d1c.js"><link rel="prefetch" href="/assets/20240112-Daeraxa-JanuaryUpdate.html.727ac307.js"><link rel="prefetch" href="/assets/20240115-Daeraxa-v1.113.0.html.1359019c.js"><link rel="prefetch" href="/assets/20240122-savetheclocktower-modern-tree-sitter-part-6.html.bc065797.js"><link rel="prefetch" href="/assets/20240124-mauricioszabo-the-quest-for-electron-lts.html.a8c82ab1.js"><link rel="prefetch" href="/assets/20240201-Daeraxa-FebruaryUpdate.html.5a1ade21.js"><link rel="prefetch" href="/assets/20240215-Daeraxa-v1.114.0.html.51cb2c96.js"><link rel="prefetch" href="/assets/20240323-savetheclocktower-v1.115.0.html.f7639cd5.js"><link rel="prefetch" href="/assets/20240417-confused-Techie-v1.116.0.html.7f7778b4.js"><link rel="prefetch" href="/assets/20240520-confused-Techie-v1.117.0.html.022d8530.js"><link rel="prefetch" href="/assets/20240616-confused-Techie-v1.118.0.html.eef47ab0.js"><link rel="prefetch" href="/assets/20240717-confused-Techie-v1.119.0.html.002ab8fa.js"><link rel="prefetch" href="/assets/20240817-DeeDeeG-v1.120.0.html.3a67c73f.js"><link rel="prefetch" href="/assets/20240918-confused-Techie-v1.121.0.html.b10b1169.js"><link rel="prefetch" href="/assets/20241020-DeeDeeG-v1.122.0.html.626fae16.js"><link rel="prefetch" href="/assets/20241121-confused-Techie-v1.123.0.html.9d40b26f.js"><link rel="prefetch" href="/assets/20241216-DeeDeeG-v1.124.0.html.0ff2dc08.js"><link rel="prefetch" href="/assets/20250123-confused-Techie-v1.125.0.html.91275810.js"><link rel="prefetch" href="/assets/20250305-DeeDeeG-v1.126.0.html.db7f6ebc.js"><link rel="prefetch" href="/assets/20250326-DeeDeeG-v1.127.0.html.25dab831.js"><link rel="prefetch" href="/assets/20250329-DeeDeeG-v1.127.1.html.cce6c15c.js"><link rel="prefetch" href="/assets/20250502-DeeDeeG-v1.128.0.html.e7b9202e.js"><link rel="prefetch" href="/assets/20250630-savetheclocktower-pulsar-next-testing.html.064e4245.js"><link rel="prefetch" href="/assets/20250807-DeeDeeG-v1.129.0.html.40380e81.js"><link rel="prefetch" href="/assets/index.html.3e6c1463.js"><link rel="prefetch" href="/assets/index.html.e54b2982.js"><link rel="prefetch" href="/assets/index.html.09d5e6bd.js"><link rel="prefetch" href="/assets/index.html.bb4bd5d9.js"><link rel="prefetch" href="/assets/index.html.6f6341d2.js"><link rel="prefetch" href="/assets/index.html.e66450b6.js"><link rel="prefetch" href="/assets/index.html.d51edc97.js"><link rel="prefetch" href="/assets/index.html.47212b5b.js"><link rel="prefetch" href="/assets/index.html.ebeb7c37.js"><link rel="prefetch" href="/assets/index.html.22737491.js"><link rel="prefetch" href="/assets/index.html.47c4aeae.js"><link rel="prefetch" href="/assets/index.html.8df00eba.js"><link rel="prefetch" href="/assets/index.html.c211f99a.js"><link rel="prefetch" href="/assets/index.html.58a10652.js"><link rel="prefetch" href="/assets/index.html.74bcfb5f.js"><link rel="prefetch" href="/assets/index.html.f2ffe19c.js"><link rel="prefetch" href="/assets/index.html.f2a9140b.js"><link rel="prefetch" href="/assets/index.html.bfae9c6a.js"><link rel="prefetch" href="/assets/index.html.db4b9cf5.js"><link rel="prefetch" href="/assets/index.html.39d9060f.js"><link rel="prefetch" href="/assets/index.html.f7363831.js"><link rel="prefetch" href="/assets/index.html.b3509800.js"><link rel="prefetch" href="/assets/atom-package-server-api.html.0b048bfe.js"><link rel="prefetch" href="/assets/atom-update-server-api.html.874968a8.js"><link rel="prefetch" href="/assets/configuration-api.html.1ed2295a.js"><link rel="prefetch" href="/assets/developing-node-modules.html.e77f2326.js"><link rel="prefetch" href="/assets/how-atom-uses-chromium-snapshots.html.1d190b2c.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.2f7e9afe.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.253e4d41.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.66a1baf7.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.c8332e42.js"><link rel="prefetch" href="/assets/serialization-in-atom.html.9a8a1ff4.js"><link rel="prefetch" href="/assets/summary.html.c86acfc7.js"><link rel="prefetch" href="/assets/atom-in-the-cloud.html.be1543ce.js"><link rel="prefetch" href="/assets/how-can-i-contribute-to-atom.html.49db6f72.js"><link rel="prefetch" href="/assets/how-can-i-tell-if-subpixel-antialiasing-is-working.html.f1514fae.js"><link rel="prefetch" href="/assets/how-do-i-accept-input-from-my-program-or-script-when-using-the-script-package.html.eea6eb04.js"><link rel="prefetch" href="/assets/how-do-i-build-or-execute-code-i-ve-written-in-atom.html.7afea0b7.js"><link rel="prefetch" href="/assets/how-do-i-make-atom-recognize-a-file-with-extension-x-as-language-y.html.45ca3345.js"><link rel="prefetch" href="/assets/how-do-i-make-the-welcome-screen-stop-showing-up.html.2f9c8a6b.js"><link rel="prefetch" href="/assets/how-do-i-preview-web-page-changes-automatically.html.7240862c.js"><link rel="prefetch" href="/assets/how-do-i-turn-on-line-wrap.html.743574d9.js"><link rel="prefetch" href="/assets/how-do-i-uninstall-atom-on-macos.html.8c93daae.js"><link rel="prefetch" href="/assets/how-do-i-use-a-newline-in-the-result-of-find-and-replace.html.faceab9d.js"><link rel="prefetch" href="/assets/i-am-unable-to-update-to-the-latest-version-of-atom-on-macos-how-do-i-fix-this.html.7f10693d.js"><link rel="prefetch" href="/assets/i-have-a-question-about-a-specific-atom-community-package-where-is-the-best-place-to-ask-it.html.2fe045ab.js"><link rel="prefetch" href="/assets/i-m-getting-an-error-about-a-self-signed-certificate-what-do-i-do.html.18a6988d.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-julia-what-do-i-do.html.acdafc71.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-platformio-what-do-i-do.html.4bea6f02.js"><link rel="prefetch" href="/assets/i-m-trying-to-change-my-syntax-colors-from-styles-less-but-it-isn-t-working.html.9615ee41.js"><link rel="prefetch" href="/assets/i-m-using-an-international-keyboard-and-keys-that-use-altgr-or-ctrl-alt-aren-t-working.html.d12cc459.js"><link rel="prefetch" href="/assets/is-atom-open-source.html.3e2a7899.js"><link rel="prefetch" href="/assets/macos-mojave-font-rendering-change.html.d33ba74d.js"><link rel="prefetch" href="/assets/the-menu-bar-disappeared-how-do-i-get-it-back.html.5285b7d6.js"><link rel="prefetch" href="/assets/what-does-atom-cost.html.f490edb9.js"><link rel="prefetch" href="/assets/what-does-safe-mode-do.html.c28e8226.js"><link rel="prefetch" href="/assets/what-is-this-line-on-the-right-in-the-editor-view.html.92c5016f.js"><link rel="prefetch" href="/assets/what-platforms-does-atom-run-on.html.e67bfbea.js"><link rel="prefetch" href="/assets/what-s-the-difference-between-an-ide-and-an-editor.html.7377822b.js"><link rel="prefetch" href="/assets/why-does-atom-collect-usage-data.html.fd1638d4.js"><link rel="prefetch" href="/assets/why-does-macos-say-that-atom-wants-to-access-my-calendar-contacts-photos-etc.html.dfe60df2.js"><link rel="prefetch" href="/assets/why-is-atom-deleting-trailing-whitespace-why-is-there-a-newline-at-the-end-of-the-file.html.009bf895.js"><link rel="prefetch" href="/assets/atom-basics.html.fc2f4a06.js"><link rel="prefetch" href="/assets/installing-atom.html.4dd4d36f.js"><link rel="prefetch" href="/assets/summary.html.fe9be6bd.js"><link rel="prefetch" href="/assets/why-atom.html.4fb90fd5.js"><link rel="prefetch" href="/assets/contributing-to-official-atom-packages.html.961e0ab9.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.3a2f1029.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package-in-atom-atom.html.367b286d.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.207ba73b.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.ed46d264.js"><link rel="prefetch" href="/assets/creating-a-theme.html.a5fedbd5.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.12555539.js"><link rel="prefetch" href="/assets/debugging.html.85a630ac.js"><link rel="prefetch" href="/assets/hacking-on-atom-core.html.db966159.js"><link rel="prefetch" href="/assets/handling-uris.html.ac6b4f1b.js"><link rel="prefetch" href="/assets/iconography.html.cb0903f5.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package-in-atom-atom.html.b59d275a.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.6ba548b2.js"><link rel="prefetch" href="/assets/package-modifying-text.html.a1bdfaa6.js"><link rel="prefetch" href="/assets/package-word-count.html.49781908.js"><link rel="prefetch" href="/assets/publishing.html.76babe74.js"><link rel="prefetch" href="/assets/summary.html.a6f48395.js"><link rel="prefetch" href="/assets/the-init-file.html.87635cd5.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.af54b9d7.js"><link rel="prefetch" href="/assets/writing-specs.html.de9c57a1.js"><link rel="prefetch" href="/assets/glossary.html.3aca2517.js"><link rel="prefetch" href="/assets/removing-shadow-dom-styles.html.f6df46a8.js"><link rel="prefetch" href="/assets/upgrading-your-package.html.901ab9e5.js"><link rel="prefetch" href="/assets/upgrading-your-syntax-theme.html.7650d04c.js"><link rel="prefetch" href="/assets/upgrading-your-ui-theme-or-package-selectors.html.1c26203d.js"><link rel="prefetch" href="/assets/atom-packages.html.52a02db4.js"><link rel="prefetch" href="/assets/atom-selections.html.6ccd154b.js"><link rel="prefetch" href="/assets/autocomplete.html.ec6b60fc.js"><link rel="prefetch" href="/assets/basic-customization.html.ea54ccd8.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.77f55668.js"><link rel="prefetch" href="/assets/find-and-replace.html.4a488eeb.js"><link rel="prefetch" href="/assets/folding.html.e4e0e277.js"><link rel="prefetch" href="/assets/github-package.html.9d0daecf.js"><link rel="prefetch" href="/assets/grammar.html.63ce206c.js"><link rel="prefetch" href="/assets/moving-in-atom.html.386980d6.js"><link rel="prefetch" href="/assets/panes.html.8ce248a9.js"><link rel="prefetch" href="/assets/pending-pane-items.html.0021df08.js"><link rel="prefetch" href="/assets/snippets.html.2349e19b.js"><link rel="prefetch" href="/assets/summary.html.b8077cd9.js"><link rel="prefetch" href="/assets/version-control-in-atom.html.8e9ff87a.js"><link rel="prefetch" href="/assets/writing-in-atom.html.7240ac7e.js"><link rel="prefetch" href="/assets/index.html.b8230621.js"><link rel="prefetch" href="/assets/index.html.d872f358.js"><link rel="prefetch" href="/assets/index.html.96af6444.js"><link rel="prefetch" href="/assets/index.html.59090f4c.js"><link rel="prefetch" href="/assets/index.html.c48759b6.js"><link rel="prefetch" href="/assets/index.html.076d2cf9.js"><link rel="prefetch" href="/assets/list.html.c39f324c.js"><link rel="prefetch" href="/assets/release-process.html.e8f6cce9.js"><link rel="prefetch" href="/assets/autocomplete-providers.html.39836bcd.js"><link rel="prefetch" href="/assets/index.html.f452234d.js"><link rel="prefetch" href="/assets/provider-api.html.dd1fb570.js"><link rel="prefetch" href="/assets/symbolprovider-config-api.html.04edf651.js"><link rel="prefetch" href="/assets/index.html.f1050665.js"><link rel="prefetch" href="/assets/june-2017.html.c21d6acc.js"><link rel="prefetch" href="/assets/incomplete-classpath-warning.html.cee3657e.js"><link rel="prefetch" href="/assets/index.html.06c71ebc.js"><link rel="prefetch" href="/assets/blog-guide.html.8cda1ca4.js"><link rel="prefetch" href="/assets/building.html.d07905be.js"><link rel="prefetch" href="/assets/configuration-files.html.cb664208.js"><link rel="prefetch" href="/assets/document-style.html.c693adb9.js"><link rel="prefetch" href="/assets/file-organization.html.96259859.js"><link rel="prefetch" href="/assets/configuration-api.html.d4ff21e0.js"><link rel="prefetch" href="/assets/developing-node-modules.html.f010be5c.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.ee16b4f1.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.acd7fcb2.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.4eb25dae.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.3914ff78.js"><link rel="prefetch" href="/assets/serialization-in-pulsar.html.58da7fb2.js"><link rel="prefetch" href="/assets/summary.html.8a21214b.js"><link rel="prefetch" href="/assets/building-pulsar.html.b0e5a0ea.js"><link rel="prefetch" href="/assets/contributing-to-official-pulsar-packages.html.26ef0088.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.3ede2cec.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package.html.1312dc3f.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.d2553095.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.b6783a7b.js"><link rel="prefetch" href="/assets/creating-a-theme.html.e0e52d2e.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.1dd2761e.js"><link rel="prefetch" href="/assets/debugging.html.3bdb6a8e.js"><link rel="prefetch" href="/assets/hacking-on-the-core.html.5c30ae63.js"><link rel="prefetch" href="/assets/handling-uris.html.a6645854.js"><link rel="prefetch" href="/assets/iconography.html.f6f37c01.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package.html.d089d3ba.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.f8b84ee7.js"><link rel="prefetch" href="/assets/package-modifying-text.html.8104c421.js"><link rel="prefetch" href="/assets/package-word-count.html.7f5691c3.js"><link rel="prefetch" href="/assets/publishing.html.68438e12.js"><link rel="prefetch" href="/assets/summary.html.7e60db5d.js"><link rel="prefetch" href="/assets/the-init-file.html.106c20da.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.9e252ffc.js"><link rel="prefetch" href="/assets/using-ppm.html.4f5504d2.js"><link rel="prefetch" href="/assets/writing-specs.html.3849103b.js"><link rel="prefetch" href="/assets/common-issues.html.dfde4f04.js"><link rel="prefetch" href="/assets/get-help.html.a5704781.js"><link rel="prefetch" href="/assets/installing-pulsar.html.60eab37a.js"><link rel="prefetch" href="/assets/pulsar-basics.html.c9db0718.js"><link rel="prefetch" href="/assets/summary.html.2480fd44.js"><link rel="prefetch" href="/assets/why-pulsar.html.62b37d90.js"><link rel="prefetch" href="/assets/autocomplete.html.a3130bec.js"><link rel="prefetch" href="/assets/basic-customization.html.f10a503f.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.31c0ca86.js"><link rel="prefetch" href="/assets/find-and-replace.html.83b7b799.js"><link rel="prefetch" href="/assets/folding.html.3ffe9e96.js"><link rel="prefetch" href="/assets/github-package.html.90ba8ca2.js"><link rel="prefetch" href="/assets/grammar.html.bc810e1f.js"><link rel="prefetch" href="/assets/moving-in-pulsar.html.325aabf8.js"><link rel="prefetch" href="/assets/panes.html.7c7f5559.js"><link rel="prefetch" href="/assets/pending-pane-items.html.4cd88c45.js"><link rel="prefetch" href="/assets/pulsar-packages.html.37ad4142.js"><link rel="prefetch" href="/assets/pulsar-selections.html.ecb5890c.js"><link rel="prefetch" href="/assets/snippets.html.fd11bb00.js"><link rel="prefetch" href="/assets/summary.html.6c334e6e.js"><link rel="prefetch" href="/assets/version-control-in-pulsar.html.74f8278b.js"><link rel="prefetch" href="/assets/writing-in-pulsar.html.e1c1e98e.js"><link rel="prefetch" href="/assets/404.html.83136f9a.js"><link rel="prefetch" href="/assets/index.html.1725108a.js"><link rel="prefetch" href="/assets/index.html.e66a9e6f.js"><link rel="prefetch" href="/assets/index.html.a9c04ba9.js"><link rel="prefetch" href="/assets/index.html.3d557021.js"><link rel="prefetch" href="/assets/index.html.4a993420.js"><link rel="prefetch" href="/assets/index.html.10df3af1.js"><link rel="prefetch" href="/assets/index.html.dcdc22a2.js"><link rel="prefetch" href="/assets/index.html.5925a712.js"><link rel="prefetch" href="/assets/index.html.7ceb711f.js"><link rel="prefetch" href="/assets/index.html.b03183ad.js"><link rel="prefetch" href="/assets/index.html.16e14736.js"><link rel="prefetch" href="/assets/index.html.4393ebb6.js"><link rel="prefetch" href="/assets/index.html.234bb87b.js"><link rel="prefetch" href="/assets/index.html.10d7d674.js"><link rel="prefetch" href="/assets/index.html.2f30f8af.js"><link rel="prefetch" href="/assets/index.html.19e04ff4.js"><link rel="prefetch" href="/assets/index.html.644bc9d9.js"><link rel="prefetch" href="/assets/index.html.d36c0486.js"><link rel="prefetch" href="/assets/index.html.5f67efaf.js"><link rel="prefetch" href="/assets/index.html.4ae4defc.js"><link rel="prefetch" href="/assets/index.html.fb13f8c6.js"><link rel="prefetch" href="/assets/index.html.450e1e45.js"><link rel="prefetch" href="/assets/index.html.01c707f9.js"><link rel="prefetch" href="/assets/index.html.130de9b2.js"><link rel="prefetch" href="/assets/index.html.d8f16f60.js"><link rel="prefetch" href="/assets/index.html.79d61236.js"><link rel="prefetch" href="/assets/index.html.5eca0895.js"><link rel="prefetch" href="/assets/index.html.100503fe.js"><link rel="prefetch" href="/assets/index.html.0f592a40.js"><link rel="prefetch" href="/assets/index.html.a8a660db.js"><link rel="prefetch" href="/assets/index.html.3aa61e11.js"><link rel="prefetch" href="/assets/index.html.d9369373.js"><link rel="prefetch" href="/assets/about.html.b7288028.js"><link rel="prefetch" href="/assets/community.html.8f247b7c.js"><link rel="prefetch" href="/assets/donate.html.1a48500b.js"><link rel="prefetch" href="/assets/download.html.8cb35719.js"><link rel="prefetch" href="/assets/index.html.a8fcb534.js"><link rel="prefetch" href="/assets/repos.html.a319cccf.js"><link rel="prefetch" href="/assets/20221112-Daeraxa-ExamplePost.html.6c9b48dc.js"><link rel="prefetch" href="/assets/20221127-confused-Techie-SunsetMisadventureBackend.html.6f16aa92.js"><link rel="prefetch" href="/assets/20221208-Daeraxa-DistroTubeVideo.html.4f76d02c.js"><link rel="prefetch" href="/assets/20221215-confused-Techie-v1.100.1-beta.html.68768751.js"><link rel="prefetch" href="/assets/20230114-confused-Techie-v1.101.0-beta.html.740014c6.js"><link rel="prefetch" href="/assets/20230201-Daeraxa-FebUpdate.html.99409990.js"><link rel="prefetch" href="/assets/20230209-mauricioszabo-tree-sitter-part-1.html.59c1bf75.js"><link rel="prefetch" href="/assets/20230215-Daeraxa-v1.102.0.html.6eba775b.js"><link rel="prefetch" href="/assets/20230216-Daeraxa-ReleaseStrategyUpdate.html.04991498.js"><link rel="prefetch" href="/assets/20230227-Daeraxa-Survey1.html.9df48eb4.js"><link rel="prefetch" href="/assets/20230301-Daeraxa-MarUpdate.html.a9f8b508.js"><link rel="prefetch" href="/assets/20230315-Daeraxa-v1.103.0.html.2d467fc3.js"><link rel="prefetch" href="/assets/20230319-confused-Techie-HowLicenseNoneDeletedPackages.html.356faba5.js"><link rel="prefetch" href="/assets/20230326-Daeraxa-Survey1-Results.html.61ff8443.js"><link rel="prefetch" href="/assets/20230401-Daeraxa-AprUpdate.html.df6c8e2d.js"><link rel="prefetch" href="/assets/20230401-confused-Techie-PON.html.5af6ba0e.js"><link rel="prefetch" href="/assets/20230418-Daeraxa-v1.104.0.html.7e21706f.js"><link rel="prefetch" href="/assets/20230430-Daeraxa-Survey2.html.389d22c1.js"><link rel="prefetch" href="/assets/20230501-Daeraxa-MayUpdate.html.fb74af99.js"><link rel="prefetch" href="/assets/20230516-Daeraxa-v1.105.0.html.c8fd5091.js"><link rel="prefetch" href="/assets/20230525-Daeraxa-Survey2-Results.html.e6e76ae8.js"><link rel="prefetch" href="/assets/20230601-Daeraxa-JuneUpdate.html.f115aa11.js"><link rel="prefetch" href="/assets/20230610-Daeraxa-2kStars.html.910c4e81.js"><link rel="prefetch" href="/assets/20230616-Daeraxa-v1.106.0.html.af779283.js"><link rel="prefetch" href="/assets/20230701-Daeraxa-JulyUpdate.html.a100c7bb.js"><link rel="prefetch" href="/assets/20230715-DeeDeeG-v1.107.0.html.7a15c9ac.js"><link rel="prefetch" href="/assets/20230716-Daeraxa-v1.107.1.html.c31b0585.js"><link rel="prefetch" href="/assets/20230801-Daeraxa-AugustUpdate.html.718393f8.js"><link rel="prefetch" href="/assets/20230816-DeeDeeG-v1.108.0.html.bea5221f.js"><link rel="prefetch" href="/assets/20230825-Daeraxa-ChocolateyUpdate.html.83b08ad5.js"><link rel="prefetch" href="/assets/20230903-confused-Techie-pulsars-ci.html.719841c3.js"><link rel="prefetch" href="/assets/20230904-Daeraxa-SeptemberUpdate.html.a9e63057.js"><link rel="prefetch" href="/assets/20230916-Daeraxa-v1.109.0.html.953053a6.js"><link rel="prefetch" href="/assets/20230917-Daeraxa-LemmyCommunity.html.60edbae1.js"><link rel="prefetch" href="/assets/20230925-savetheclocktower-modern-tree-sitter-part-1.html.bd8070ed.js"><link rel="prefetch" href="/assets/20230927-savetheclocktower-modern-tree-sitter-part-2.html.a8718084.js"><link rel="prefetch" href="/assets/20231004-Daeraxa-OctoberUpdate.html.7f993d68.js"><link rel="prefetch" href="/assets/20231013-savetheclocktower-modern-tree-sitter-part-3.html.86e7f10c.js"><link rel="prefetch" href="/assets/20231016-Daeraxa-v1.110.0.html.b18813ab.js"><link rel="prefetch" href="/assets/20231031-savetheclocktower-modern-tree-sitter-part-4.html.8349b1e3.js"><link rel="prefetch" href="/assets/20231109-Daeraxa-NovemberUpdate.html.ff6bd3fe.js"><link rel="prefetch" href="/assets/20231110-savetheclocktower-modern-tree-sitter-part-5.html.c0c58a16.js"><link rel="prefetch" href="/assets/20231116-Daeraxa-v1.111.0.html.fa74b090.js"><link rel="prefetch" href="/assets/20231212-Daeraxa-DecemberUpdate.html.a4457c93.js"><link rel="prefetch" href="/assets/20231216-Daeraxa-v1.112.0.html.8d7cbe4c.js"><link rel="prefetch" href="/assets/20231219-DeeDeeG-v1.112.1.html.dc2d21fb.js"><link rel="prefetch" href="/assets/20240112-Daeraxa-JanuaryUpdate.html.30a86843.js"><link rel="prefetch" href="/assets/20240115-Daeraxa-v1.113.0.html.729b2552.js"><link rel="prefetch" href="/assets/20240122-savetheclocktower-modern-tree-sitter-part-6.html.021479d0.js"><link rel="prefetch" href="/assets/20240124-mauricioszabo-the-quest-for-electron-lts.html.e2edc063.js"><link rel="prefetch" href="/assets/20240201-Daeraxa-FebruaryUpdate.html.90b4dda0.js"><link rel="prefetch" href="/assets/20240215-Daeraxa-v1.114.0.html.cf7d4664.js"><link rel="prefetch" href="/assets/20240323-savetheclocktower-v1.115.0.html.ba1889a6.js"><link rel="prefetch" href="/assets/20240417-confused-Techie-v1.116.0.html.aa58609a.js"><link rel="prefetch" href="/assets/20240520-confused-Techie-v1.117.0.html.bfee07ec.js"><link rel="prefetch" href="/assets/20240616-confused-Techie-v1.118.0.html.5da376d3.js"><link rel="prefetch" href="/assets/20240717-confused-Techie-v1.119.0.html.7e420daa.js"><link rel="prefetch" href="/assets/20240817-DeeDeeG-v1.120.0.html.f9a802ad.js"><link rel="prefetch" href="/assets/20240918-confused-Techie-v1.121.0.html.f78df81b.js"><link rel="prefetch" href="/assets/20241020-DeeDeeG-v1.122.0.html.313f62be.js"><link rel="prefetch" href="/assets/20241121-confused-Techie-v1.123.0.html.8ae34ae1.js"><link rel="prefetch" href="/assets/20241216-DeeDeeG-v1.124.0.html.b37ea6b6.js"><link rel="prefetch" href="/assets/20250123-confused-Techie-v1.125.0.html.2134c632.js"><link rel="prefetch" href="/assets/20250305-DeeDeeG-v1.126.0.html.11658cf0.js"><link rel="prefetch" href="/assets/20250326-DeeDeeG-v1.127.0.html.3a3dbbaa.js"><link rel="prefetch" href="/assets/20250329-DeeDeeG-v1.127.1.html.5c13ad5e.js"><link rel="prefetch" href="/assets/20250502-DeeDeeG-v1.128.0.html.2b7b410a.js"><link rel="prefetch" href="/assets/20250630-savetheclocktower-pulsar-next-testing.html.ff7cd46a.js"><link rel="prefetch" href="/assets/20250807-DeeDeeG-v1.129.0.html.58c99d0e.js"><link rel="prefetch" href="/assets/index.html.f5ca0476.js"><link rel="prefetch" href="/assets/index.html.30471fb4.js"><link rel="prefetch" href="/assets/index.html.187d01d1.js"><link rel="prefetch" href="/assets/index.html.11b705d4.js"><link rel="prefetch" href="/assets/index.html.17007a9b.js"><link rel="prefetch" href="/assets/index.html.0f9f860d.js"><link rel="prefetch" href="/assets/index.html.c3b694f1.js"><link rel="prefetch" href="/assets/index.html.14e37a78.js"><link rel="prefetch" href="/assets/index.html.e6f1bc02.js"><link rel="prefetch" href="/assets/index.html.3e511175.js"><link rel="prefetch" href="/assets/index.html.155539d1.js"><link rel="prefetch" href="/assets/index.html.9a1bbbcf.js"><link rel="prefetch" href="/assets/index.html.fe1e65c5.js"><link rel="prefetch" href="/assets/index.html.3a2b0e8d.js"><link rel="prefetch" href="/assets/index.html.858d27fe.js"><link rel="prefetch" href="/assets/index.html.09496841.js"><link rel="prefetch" href="/assets/index.html.2efc0b0d.js"><link rel="prefetch" href="/assets/index.html.b2f670c4.js"><link rel="prefetch" href="/assets/index.html.3ec61b78.js"><link rel="prefetch" href="/assets/index.html.7f61cee5.js"><link rel="prefetch" href="/assets/index.html.64f3e593.js"><link rel="prefetch" href="/assets/index.html.cdc6a1ef.js"><link rel="prefetch" href="/assets/atom-package-server-api.html.3e7779ce.js"><link rel="prefetch" href="/assets/atom-update-server-api.html.e5bda85a.js"><link rel="prefetch" href="/assets/configuration-api.html.c29b2749.js"><link rel="prefetch" href="/assets/developing-node-modules.html.3b37da78.js"><link rel="prefetch" href="/assets/how-atom-uses-chromium-snapshots.html.cecf5594.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.39fdfec1.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.3eeda82a.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.15a1a742.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.85e56e3d.js"><link rel="prefetch" href="/assets/serialization-in-atom.html.9869ba8d.js"><link rel="prefetch" href="/assets/summary.html.003a8eab.js"><link rel="prefetch" href="/assets/atom-in-the-cloud.html.bfa93abd.js"><link rel="prefetch" href="/assets/how-can-i-contribute-to-atom.html.d5b62994.js"><link rel="prefetch" href="/assets/how-can-i-tell-if-subpixel-antialiasing-is-working.html.fdbdf908.js"><link rel="prefetch" href="/assets/how-do-i-accept-input-from-my-program-or-script-when-using-the-script-package.html.64d0aacc.js"><link rel="prefetch" href="/assets/how-do-i-build-or-execute-code-i-ve-written-in-atom.html.e4668382.js"><link rel="prefetch" href="/assets/how-do-i-make-atom-recognize-a-file-with-extension-x-as-language-y.html.2ed055ab.js"><link rel="prefetch" href="/assets/how-do-i-make-the-welcome-screen-stop-showing-up.html.3a6e6ff0.js"><link rel="prefetch" href="/assets/how-do-i-preview-web-page-changes-automatically.html.899644dc.js"><link rel="prefetch" href="/assets/how-do-i-turn-on-line-wrap.html.06bfe98f.js"><link rel="prefetch" href="/assets/how-do-i-uninstall-atom-on-macos.html.2aedb59b.js"><link rel="prefetch" href="/assets/how-do-i-use-a-newline-in-the-result-of-find-and-replace.html.f7ba2323.js"><link rel="prefetch" href="/assets/i-am-unable-to-update-to-the-latest-version-of-atom-on-macos-how-do-i-fix-this.html.a72ba11d.js"><link rel="prefetch" href="/assets/i-have-a-question-about-a-specific-atom-community-package-where-is-the-best-place-to-ask-it.html.adb70910.js"><link rel="prefetch" href="/assets/i-m-getting-an-error-about-a-self-signed-certificate-what-do-i-do.html.64ad8a74.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-julia-what-do-i-do.html.c02190b0.js"><link rel="prefetch" href="/assets/i-m-having-a-problem-with-platformio-what-do-i-do.html.1329c847.js"><link rel="prefetch" href="/assets/i-m-trying-to-change-my-syntax-colors-from-styles-less-but-it-isn-t-working.html.6819dc7a.js"><link rel="prefetch" href="/assets/i-m-using-an-international-keyboard-and-keys-that-use-altgr-or-ctrl-alt-aren-t-working.html.5bfdfeb4.js"><link rel="prefetch" href="/assets/is-atom-open-source.html.4477f7f2.js"><link rel="prefetch" href="/assets/macos-mojave-font-rendering-change.html.a4959d9b.js"><link rel="prefetch" href="/assets/the-menu-bar-disappeared-how-do-i-get-it-back.html.60c57995.js"><link rel="prefetch" href="/assets/what-does-atom-cost.html.2fe901af.js"><link rel="prefetch" href="/assets/what-does-safe-mode-do.html.a4e1859e.js"><link rel="prefetch" href="/assets/what-is-this-line-on-the-right-in-the-editor-view.html.178a96bd.js"><link rel="prefetch" href="/assets/what-platforms-does-atom-run-on.html.18b35d08.js"><link rel="prefetch" href="/assets/what-s-the-difference-between-an-ide-and-an-editor.html.ded7569e.js"><link rel="prefetch" href="/assets/why-does-atom-collect-usage-data.html.09a2626a.js"><link rel="prefetch" href="/assets/why-does-macos-say-that-atom-wants-to-access-my-calendar-contacts-photos-etc.html.60655fbb.js"><link rel="prefetch" href="/assets/why-is-atom-deleting-trailing-whitespace-why-is-there-a-newline-at-the-end-of-the-file.html.38f22e7a.js"><link rel="prefetch" href="/assets/atom-basics.html.1977d5d6.js"><link rel="prefetch" href="/assets/installing-atom.html.b69e9e1b.js"><link rel="prefetch" href="/assets/summary.html.f9e25bbd.js"><link rel="prefetch" href="/assets/why-atom.html.071cb493.js"><link rel="prefetch" href="/assets/contributing-to-official-atom-packages.html.c4ad99b0.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.32ce3347.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package-in-atom-atom.html.361157ed.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.eef11539.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.1809aa2c.js"><link rel="prefetch" href="/assets/creating-a-theme.html.077e98e7.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.702697d9.js"><link rel="prefetch" href="/assets/debugging.html.176d9836.js"><link rel="prefetch" href="/assets/hacking-on-atom-core.html.1bb206e7.js"><link rel="prefetch" href="/assets/handling-uris.html.5ad4432e.js"><link rel="prefetch" href="/assets/iconography.html.af66e153.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package-in-atom-atom.html.909da825.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.18c10232.js"><link rel="prefetch" href="/assets/package-modifying-text.html.f845e329.js"><link rel="prefetch" href="/assets/package-word-count.html.deada300.js"><link rel="prefetch" href="/assets/publishing.html.ea21cb1d.js"><link rel="prefetch" href="/assets/summary.html.8a3a4499.js"><link rel="prefetch" href="/assets/the-init-file.html.e3cc0739.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.e82e4a01.js"><link rel="prefetch" href="/assets/writing-specs.html.834e86a2.js"><link rel="prefetch" href="/assets/glossary.html.789f7f82.js"><link rel="prefetch" href="/assets/removing-shadow-dom-styles.html.418a6831.js"><link rel="prefetch" href="/assets/upgrading-your-package.html.d7eb31a1.js"><link rel="prefetch" href="/assets/upgrading-your-syntax-theme.html.14c02264.js"><link rel="prefetch" href="/assets/upgrading-your-ui-theme-or-package-selectors.html.16981f53.js"><link rel="prefetch" href="/assets/atom-packages.html.26f0b9d9.js"><link rel="prefetch" href="/assets/atom-selections.html.6143d1e0.js"><link rel="prefetch" href="/assets/autocomplete.html.ef56c7c5.js"><link rel="prefetch" href="/assets/basic-customization.html.f865c113.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.4d0118af.js"><link rel="prefetch" href="/assets/find-and-replace.html.fe12f5b1.js"><link rel="prefetch" href="/assets/folding.html.fae3efda.js"><link rel="prefetch" href="/assets/github-package.html.fd5a2df0.js"><link rel="prefetch" href="/assets/grammar.html.3b0ace71.js"><link rel="prefetch" href="/assets/moving-in-atom.html.024a83bd.js"><link rel="prefetch" href="/assets/panes.html.441a1d0d.js"><link rel="prefetch" href="/assets/pending-pane-items.html.9bbed888.js"><link rel="prefetch" href="/assets/snippets.html.831e77a6.js"><link rel="prefetch" href="/assets/summary.html.5ca53d0e.js"><link rel="prefetch" href="/assets/version-control-in-atom.html.0ee4b9fa.js"><link rel="prefetch" href="/assets/writing-in-atom.html.d5b6b61c.js"><link rel="prefetch" href="/assets/index.html.798fd14f.js"><link rel="prefetch" href="/assets/index.html.f10dd5ef.js"><link rel="prefetch" href="/assets/index.html.d59fdf67.js"><link rel="prefetch" href="/assets/index.html.3ecb24d4.js"><link rel="prefetch" href="/assets/index.html.e847ed7b.js"><link rel="prefetch" href="/assets/index.html.e4da0c5b.js"><link rel="prefetch" href="/assets/list.html.7df973a1.js"><link rel="prefetch" href="/assets/release-process.html.c5f26afc.js"><link rel="prefetch" href="/assets/autocomplete-providers.html.bf3afbaa.js"><link rel="prefetch" href="/assets/index.html.fead13b0.js"><link rel="prefetch" href="/assets/provider-api.html.fb6167c0.js"><link rel="prefetch" href="/assets/symbolprovider-config-api.html.e5d1176f.js"><link rel="prefetch" href="/assets/index.html.c9c5bc4c.js"><link rel="prefetch" href="/assets/june-2017.html.2ec4b97c.js"><link rel="prefetch" href="/assets/incomplete-classpath-warning.html.e95b428c.js"><link rel="prefetch" href="/assets/index.html.ef5f59d8.js"><link rel="prefetch" href="/assets/blog-guide.html.5d9d1848.js"><link rel="prefetch" href="/assets/building.html.be0ffe43.js"><link rel="prefetch" href="/assets/configuration-files.html.68a380a8.js"><link rel="prefetch" href="/assets/document-style.html.9c488ec5.js"><link rel="prefetch" href="/assets/file-organization.html.af6fe2c2.js"><link rel="prefetch" href="/assets/configuration-api.html.855577a9.js"><link rel="prefetch" href="/assets/developing-node-modules.html.5cbb23c0.js"><link rel="prefetch" href="/assets/interacting-with-other-packages-via-services.html.1940a6db.js"><link rel="prefetch" href="/assets/keymaps-in-depth.html.c1d63c81.js"><link rel="prefetch" href="/assets/maintaining-your-packages.html.ab3118ca.js"><link rel="prefetch" href="/assets/scoped-settings-scopes-and-scope-descriptors.html.c07f5c96.js"><link rel="prefetch" href="/assets/serialization-in-pulsar.html.de7e5ade.js"><link rel="prefetch" href="/assets/summary.html.baa67c74.js"><link rel="prefetch" href="/assets/building-pulsar.html.e3567497.js"><link rel="prefetch" href="/assets/contributing-to-official-pulsar-packages.html.3d75cfe5.js"><link rel="prefetch" href="/assets/converting-from-textmate.html.a5a444a4.js"><link rel="prefetch" href="/assets/creating-a-fork-of-a-core-package.html.96781036.js"><link rel="prefetch" href="/assets/creating-a-grammar.html.466171a1.js"><link rel="prefetch" href="/assets/creating-a-legacy-textmate-grammar.html.6b565d72.js"><link rel="prefetch" href="/assets/creating-a-theme.html.403c23b2.js"><link rel="prefetch" href="/assets/cross-platform-compatibility.html.835e7191.js"><link rel="prefetch" href="/assets/debugging.html.df6a779c.js"><link rel="prefetch" href="/assets/hacking-on-the-core.html.7071325d.js"><link rel="prefetch" href="/assets/handling-uris.html.8c563eb7.js"><link rel="prefetch" href="/assets/iconography.html.c492571d.js"><link rel="prefetch" href="/assets/maintaining-a-fork-of-a-core-package.html.ac8b8fef.js"><link rel="prefetch" href="/assets/package-active-editor-info.html.9547d382.js"><link rel="prefetch" href="/assets/package-modifying-text.html.60ee3da6.js"><link rel="prefetch" href="/assets/package-word-count.html.ca43be0e.js"><link rel="prefetch" href="/assets/publishing.html.aaa16250.js"><link rel="prefetch" href="/assets/summary.html.f16082ee.js"><link rel="prefetch" href="/assets/the-init-file.html.297cbc2a.js"><link rel="prefetch" href="/assets/tools-of-the-trade.html.1b89b1d7.js"><link rel="prefetch" href="/assets/using-ppm.html.a779f576.js"><link rel="prefetch" href="/assets/writing-specs.html.624971ce.js"><link rel="prefetch" href="/assets/common-issues.html.99734a62.js"><link rel="prefetch" href="/assets/get-help.html.bfdbe229.js"><link rel="prefetch" href="/assets/installing-pulsar.html.43a36dbe.js"><link rel="prefetch" href="/assets/pulsar-basics.html.23a31e0a.js"><link rel="prefetch" href="/assets/summary.html.fbe5aa33.js"><link rel="prefetch" href="/assets/why-pulsar.html.3b86c100.js"><link rel="prefetch" href="/assets/autocomplete.html.9a1785c3.js"><link rel="prefetch" href="/assets/basic-customization.html.e6c69c22.js"><link rel="prefetch" href="/assets/editing-and-deleting-text.html.4970256d.js"><link rel="prefetch" href="/assets/find-and-replace.html.f9caf3a2.js"><link rel="prefetch" href="/assets/folding.html.31ecdb72.js"><link rel="prefetch" href="/assets/github-package.html.2968c4b7.js"><link rel="prefetch" href="/assets/grammar.html.f4dfea92.js"><link rel="prefetch" href="/assets/moving-in-pulsar.html.4fa68ada.js"><link rel="prefetch" href="/assets/panes.html.051ff261.js"><link rel="prefetch" href="/assets/pending-pane-items.html.1ae56781.js"><link rel="prefetch" href="/assets/pulsar-packages.html.3a10a3e8.js"><link rel="prefetch" href="/assets/pulsar-selections.html.26a48000.js"><link rel="prefetch" href="/assets/snippets.html.f1abb54e.js"><link rel="prefetch" href="/assets/summary.html.8f749fff.js"><link rel="prefetch" href="/assets/version-control-in-pulsar.html.5e2f1c02.js"><link rel="prefetch" href="/assets/writing-in-pulsar.html.a6bb3c72.js"><link rel="prefetch" href="/assets/404.html.64337b5e.js"><link rel="prefetch" href="/assets/index.html.1c1e4c67.js"><link rel="prefetch" href="/assets/index.html.810678a9.js"><link rel="prefetch" href="/assets/index.html.b83a2a7d.js"><link rel="prefetch" href="/assets/index.html.dd03c6cc.js"><link rel="prefetch" href="/assets/index.html.210ce760.js"><link rel="prefetch" href="/assets/index.html.9eca3c43.js"><link rel="prefetch" href="/assets/index.html.cab14637.js"><link rel="prefetch" href="/assets/index.html.06df36bd.js"><link rel="prefetch" href="/assets/index.html.87d54880.js"><link rel="prefetch" href="/assets/index.html.e577fdb8.js"><link rel="prefetch" href="/assets/index.html.4f750d33.js"><link rel="prefetch" href="/assets/index.html.961491a9.js"><link rel="prefetch" href="/assets/index.html.6fdde28b.js"><link rel="prefetch" href="/assets/index.html.18ec6d61.js"><link rel="prefetch" href="/assets/index.html.3f5a2c09.js"><link rel="prefetch" href="/assets/index.html.356e881a.js"><link rel="prefetch" href="/assets/index.html.8e214a56.js"><link rel="prefetch" href="/assets/index.html.3c0ff3f4.js"><link rel="prefetch" href="/assets/index.html.965344cf.js"><link rel="prefetch" href="/assets/index.html.bdd2bb28.js"><link rel="prefetch" href="/assets/index.html.cfc5b895.js"><link rel="prefetch" href="/assets/index.html.053491fa.js"><link rel="prefetch" href="/assets/index.html.b7ca8a42.js"><link rel="prefetch" href="/assets/index.html.35246ef6.js"><link rel="prefetch" href="/assets/index.html.b21c5ab9.js"><link rel="prefetch" href="/assets/index.html.f11c4497.js"><link rel="prefetch" href="/assets/index.html.0c872e5d.js"><link rel="prefetch" href="/assets/index.html.708f4941.js"><link rel="prefetch" href="/assets/index.html.c6b8dd70.js"><link rel="prefetch" href="/assets/index.html.94776ad5.js"><link rel="prefetch" href="/assets/index.html.a522b1fd.js"><link rel="prefetch" href="/assets/index.html.31f589ce.js"><link rel="prefetch" href="/assets/photoswipe.esm.09e03fed.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container no-sidebar has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo light" src="/logo-name-navbar-light.svg" alt><img class="logo dark" src="/logo-name-navbar-dark.svg" alt><!----></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/download.html" class="nav-link" aria-label="Download"><span class="icon fas fa-solid fa-download"></span>Download<!----></a></div><div class="nav-item hide-in-mobile"><a href="/docs/" class="nav-link" aria-label="Docs"><span class="icon fas fa-solid fa-file-lines"></span>Docs<!----></a></div><div class="nav-item hide-in-mobile"><a href="/repos.html" class="nav-link" aria-label="Repositories"><span class="icon fas fa-brands fa-github"></span>Repositories<!----></a></div><div class="nav-item hide-in-mobile"><a href="/about.html" class="nav-link" aria-label="About Us"><span class="icon fas fa-solid fa-sun"></span>About Us<!----></a></div><div class="nav-item hide-in-mobile"><a href="/blog/" class="nav-link active" aria-label="Blog"><span class="icon fas fa-solid fa-blog"></span>Blog<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Community"><span class="title"><span class="icon fas fa-solid fa-user-group"></span>Community</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/community.html" class="nav-link" aria-label="Community areas"><span class="icon fas fa-solid fa-house"></span>Community areas<!----></a></li><li class="dropdown-item"><a href="https://github.com/orgs/pulsar-edit/discussions" rel="noopener noreferrer" target="_blank" aria-label="Discussions" class="nav-link"><span class="icon fas fa-solid fa-comments"></span>Discussions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://discord.gg/7aEbB9dGRT" rel="noopener noreferrer" target="_blank" aria-label="Discord" class="nav-link"><span class="icon fas fa-brands fa-discord"></span>Discord<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://www.reddit.com/r/pulsaredit/" rel="noopener noreferrer" target="_blank" aria-label="Reddit" class="nav-link"><span class="icon fas fa-brands fa-reddit"></span>Reddit<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://fosstodon.org/@pulsaredit" rel="noopener noreferrer" target="_blank" aria-label="Mastodon" class="nav-link"><span class="icon fas fa-brands fa-mastodon"></span>Mastodon<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://lemmy.ml/c/pulsaredit" rel="noopener noreferrer" target="_blank" aria-label="Lemmy" class="nav-link"><span class="icon fas fa-solid fa-users"></span>Lemmy<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/donate.html" class="nav-link" aria-label="Donate"><span class="icon fas fa-solid fa-hand-holding-dollar"></span>Donate<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://web.pulsar-edit.dev/" rel="noopener noreferrer" target="_blank" aria-label="Packages" class="nav-link"><span class="icon fas fa-solid fa-box-open"></span>Packages<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/pulsar-edit" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Modern Tree-sitter, part 7: the pain points and the promise</h1><div class="page-info"><span class="author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">savetheclocktower</span></span><span property="author" content="savetheclocktower"></span></span><!----><span class="date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>September 2, 2024</span><meta property="datePublished" content="2024-09-02T00:00:00.000Z"></span><span class="category-info" aria-label="Category🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category1 clickable" role="navigation">dev</span></li></ul><meta property="articleSection" content="dev"></span><span aria-label="Tag🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li><span class="tag tag7 clickable" role="navigation">modernization</span></li><li><span class="tag tag6 clickable" role="navigation">tree-sitter</span></li></ul><meta property="keywords" content="modernization,tree-sitter"></span><span class="reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 24 min</span><meta property="timeRequired" content="PT24M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#tree-sitter-challenges" class="router-link-active router-link-exact-active toc-link level2">Tree-sitter challenges</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#it-s-nobody-s-day-job" class="router-link-active router-link-exact-active toc-link level3">It’s nobody’s day job</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#it-s-hard-easy-hard-to-write-parsers" class="router-link-active router-link-exact-active toc-link level3">It’s hard easy hard to write parsers</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#the-web-tree-sitter-experience-is-second-class" class="router-link-active router-link-exact-active toc-link level3">The web-tree-sitter experience is second-class</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#error-recovery-is-a-black-box" class="router-link-active router-link-exact-active toc-link level3">Error recovery is a black box</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#you-re-at-the-mercy-of-the-parser-author" class="router-link-active router-link-exact-active toc-link level3">You’re at the mercy of the parser author</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#pulsar-specific-challenges" class="router-link-active router-link-exact-active toc-link level2">Pulsar-specific challenges</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#memory-needs-managing" class="router-link-active router-link-exact-active toc-link level3">Memory needs managing</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#parsing-performance-needs-managing" class="router-link-active router-link-exact-active toc-link level3">Parsing performance needs managing</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#and-yet-6" class="router-link-active router-link-exact-active toc-link level3">And yet…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#highlighting-performance-needs-managing" class="router-link-active router-link-exact-active toc-link level3">Highlighting performance needs managing</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#query-predicates-and-footguns" class="router-link-active router-link-exact-active toc-link level3">Query predicates and footguns</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#why-are-you-telling-me-this" class="router-link-active router-link-exact-active toc-link level2">Why are you telling me this?</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#you-still-haven-t-sold-me" class="router-link-active router-link-exact-active toc-link level3">You still haven’t sold me</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.html#you-ve-reached-the-end-of-the-series" class="router-link-active router-link-exact-active toc-link level2">You’ve reached the end of the series</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p>I’ve spent a number of posts talking about <a href="https://tree-sitter.github.io/tree-sitter/" target="_blank" rel="noopener noreferrer">Tree-sitter<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> as though it makes sliced bread look <em>mundane</em>. But it also drives me nuts on a regular basis. Let’s wrap up the series by talking about what makes Tree-sitter hard to work with — with an optimistic look toward the near future.</p><!-- more --><p>Tree-sitter is a typical open-source project: the sky’s the limit, but there’s never quite enough time and attention to go around.</p><p>I think it’s absolutely amazing what we on the Pulsar team have been able to do in such a short amount of time — especially when using the <code>web-tree-sitter</code> bindings, which appear to be nobody’s first choice. Still, there have been bumps in the road. Maybe I can point out a few of them and help out the next Tree-sitter user.</p><p>Since I <em>do not</em> want to save any of these gripes for an <em>eighth</em> blog post (and since you probably don’t want to <em>read</em> an eighth blog post) this article may be a bit longer than the rest.</p><p>Don’t get me wrong: nearly all of these challenges have gotten easier in the year that I’ve been immersed in Tree-sitter. There is cause for optimism, and I’ll be sure to point out the upsides as I go.</p><h2 id="tree-sitter-challenges" tabindex="-1"><a class="header-anchor" href="#tree-sitter-challenges" aria-hidden="true">#</a> Tree-sitter challenges</h2><p>I’ve tried to group these gripes based on how generally applicable they are. Some of them would be things <em>you’d</em> trip over if you started using Tree-sitter tomorrow, and some might just be Pulsar-specific dilemmas. In order to keep you engaged, let’s start with the broader gripes.</p><h3 id="it-s-nobody-s-day-job" tabindex="-1"><a class="header-anchor" href="#it-s-nobody-s-day-job" aria-hidden="true">#</a> It’s nobody’s day job</h3><p><a href="https://github.com/maxbrunsfeld" target="_blank" rel="noopener noreferrer">Max Brunsfeld<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> worked on Tree-sitter for years before it wound up in Atom. It’s no longer just his pet project — there are a small handful of folks with commit rights to the repository — but, of course, they’re volunteers, and development happens on a “when-it’s-done” schedule. There’s a rough roadmap of desired improvements, but not much of a timetable.</p><p><em>Lots</em> of major improvements happen <em>in between</em> major releases. For this reason, most of Pulsar’s own Tree-sitter grammars are built from the <code>master</code> branch of their parsers, rather than from tagged releases on NPM.</p><p>Yet, despite this uncertainty, lots of projects have embraced Tree-sitter. One of them is <a href="https://nova.app/" target="_blank" rel="noopener noreferrer">a commercial text editor<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. As we’ve mentioned, GitHub uses Tree-sitter for code navigation and highlighting on the web. Other companies are building code analysis tools around it.</p><p>So it’s not going anywhere, and enough people know how it works that it’d have a future even if Max suddenly decided to eschew modern technology and go live simply in the woods.</p><p>Still, there’s a mismatch here. It’s becoming crucial infrastructure for major projects, yet it’s nobody’s full-time job. It <em>could</em> be somebody’s full-time job, but the creator already has <a href="https://zed.dev/" target="_blank" rel="noopener noreferrer">that other full-time job<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, and that doesn’t seem like it’ll change any time soon.</p><h4 id="and-yet" tabindex="-1"><a class="header-anchor" href="#and-yet" aria-hidden="true">#</a> And yet…</h4><p>There are six official members of <a href="https://github.com/tree-sitter" target="_blank" rel="noopener noreferrer">the <code>tree-sitter</code> GitHub organization<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, but I’d like to mention <a href="https://github.com/amaanq" target="_blank" rel="noopener noreferrer">@amaanq<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> specifically as being an increasingly helpful and prolific contributor in the eighteen months that I’ve spent in the Tree-sitter ecosystem. Others, like <a href="https://github.com/clason" target="_blank" rel="noopener noreferrer">@clason<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <a href="https://github.com/sogaiu" target="_blank" rel="noopener noreferrer">@sogaiu<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, idle on Tree-sitter’s <a href="https://discord.gg/w7nTvsVJhm" target="_blank" rel="noopener noreferrer"> Discord<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <a href="https://matrix.to/#/#tree-sitter-chat:matrix.org" target="_blank" rel="noopener noreferrer">Matrix<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> channels and have written enormously helpful documentation.</p><p>The presence of other diligent contributors is how Tree-sitter has gotten much better over that span of time despite only sporadic participation from Max.</p><p>There’s even a roadmap these days — which would’ve been a shocking display of transparency even six months ago! Things are looking up.</p><h3 id="it-s-hard-easy-hard-to-write-parsers" tabindex="-1"><a class="header-anchor" href="#it-s-hard-easy-hard-to-write-parsers" aria-hidden="true">#</a> It’s <s>hard</s> <s>easy</s> hard to write parsers</h3><p>I could argue both sides of this one depending on how I chose to look at it.</p><p>It’s easy to <em>start</em> writing a Tree-sitter parser. At the beginning, you’re staring at a largely empty JavaScript file. Each individual rule seems easy to add. You keep adding new rules, then testing them, and everything works. You think this is going to be a cake-walk.</p><p>Ten minutes later, you’ve hit a wall. You’re staring at some debugging output, trying to figure out how the last rule you added somehow broke everything.</p><p>This is quite common! The learning curve of Tree-sitter is… shaped much more strangely than a curve.</p><p>Why is this true? And what can be done about it?</p><ul><li><p>First, the design: Tree-sitter is a <em>style</em> of parser that many people will be unfamiliar with. It doesn’t backtrack and it doesn’t try to group simple nodes into higher-level constructs until <em>after</em> it’s decided what kinds of nodes they are. This violates a lot of folks’ intuitions about how something should parse. To a certain extent, this is unavoidable, though there are a few loopholes that we’ll discuss in a moment.</p></li><li><p>There are two important tools to help you understand the parsing process. <code>tree-sitter --debug</code> will give you exhaustive logging of each step of the parse process; and <code>tree-sitter -D</code> will go further and actually <em>build graphs</em> to visualize chains of tokens, opening the results in a web page when the parse is done.</p><p>These are great tools, but they output the kind of debug information that you’d want if you already knew <em>exactly how Tree-sitter worked</em> and didn’t need any of its decisions explained. There are improvements to be made here.</p></li><li><p>When Tree-sitter can’t solve a problem on its own, you can employ the <em>mother of all loopholes</em>: you can <a href="https://tree-sitter.github.io/tree-sitter/creating-parsers#external-scanners" target="_blank" rel="noopener noreferrer">write an external scanner in C<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. An external scanner can do lots of things <a href="https://tree-sitter.github.io/tree-sitter/creating-parsers#other-external-scanner-details" target="_blank" rel="noopener noreferrer">that otherwise couldn’t be done<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, because it can both keep its own state and look ahead as much as it wants.</p><p>The power that this gives a parser author is certainly appreciated, but it tempts parser authors to define more rules externally instead of inside <code>grammar.js</code>. When I resort to external scanner logic to get me out of a jam, I always suspect that there’s a simpler way to solve the problem that I just don’t understand.</p><p>And if you’re like me and you have no real experience in systems programming, you might be intimidated by a system that expects you to dip into C to solve some of your problems.</p></li></ul><h4 id="and-yet-1" tabindex="-1"><a class="header-anchor" href="#and-yet-1" aria-hidden="true">#</a> And yet…</h4><p>I’ve had a draft of this blog post half-written for six months, but when I first wrote it, I would never have dreamed that I’d be such an active contributor to the Tree-sitter ecosystem by now.</p><p>Despite not feeling like I’ve got my brain totally wrapped around this whole parser thing, I’ve now written three small parsers from scratch, and am maintaining a fork of <code>tree-sitter-scss</code>. I’ve contributed bug fixes and enhancements to <code>tree-sitter-jsdoc</code>, <code>tree-sitter-html</code>, and <code>tree-sitter-css</code>.</p><p>Tree-sitter got easier once I understood that most of the crucial decisions are made during <em>lexing</em>, rather than during <em>parsing</em>. Lexing happens first; it’s the process Tree-sitter uses <a href="https://tree-sitter.github.io/tree-sitter/creating-parsers#conflicting-tokens" target="_blank" rel="noopener noreferrer">to decide what the next token will be<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. And since there’s no backtracking, it’s often the root cause of a parsing problem. Headaches around precedence and ambiguity can usually be smoothed out in the parsing phase, but if the <em>lexing</em> is going wrong, none of the parsing-related tools that Tree-sitter gives you will help much.</p><p>It’s true that the prospect of having to write C steepens the learning curve a bit. But the C that you’d write for an external scanner really isn’t that challenging! The vast majority of it involves <code>while</code> loops and <code>switch</code> statements and comparing characters to other characters. The most challenging problem I’ve tackled in an external scanner is keeping track of state — and there are plenty of examples of scanners that keep state that you can crib from.</p><p>Reading the source code of other Tree-sitter parsers is probably the best way to understand Tree-sitter better, and the second-best way is to idle in <a href="https://discord.gg/w7nTvsVJhm" target="_blank" rel="noopener noreferrer">the Tree-sitter Discord<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. The Discord isn’t <em>incredibly</em> active, but nearly all queries get answered eventually.</p><p>With help, and over time, even the most intimidating tools slowly reveal their inner workings. If I can do it, so can you.</p><h3 id="the-web-tree-sitter-experience-is-second-class" tabindex="-1"><a class="header-anchor" href="#the-web-tree-sitter-experience-is-second-class" aria-hidden="true">#</a> The <code>web-tree-sitter</code> experience is second-class</h3><p>I consider <code>web-tree-sitter</code> to be one of the main success stories of <a href="https://webassembly.org/" target="_blank" rel="noopener noreferrer">WebAssembly<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Before WebAssembly, compiling a C-based library like Tree-sitter to run entirely in a browser would’ve involved something closer to a <em>ten-fold</em> performance penalty. With WebAssembly, that penalty is small enough that most users won’t notice the difference between it and the <code>node-tree-sitter</code> bindings.</p><p>In fact, most of the challenges we’ve faced with <code>web-tree-sitter</code> don’t involve performance at all: they involve constraints on the web platform that don’t affect other bindings.</p><h4 id="stdlib-exports" tabindex="-1"><a class="header-anchor" href="#stdlib-exports" aria-hidden="true">#</a> stdlib exports</h4><p>We’ve talked about how a Tree-sitter grammar can use an external C scanner to do its job. This isn’t a problem for <code>web-tree-sitter</code>; <a href="https://emscripten.org/" target="_blank" rel="noopener noreferrer">Emscripten<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> can compile those scanners to WebAssembly. But the scanner can draw on any functions it wants from the C standard library to help it with this task. This makes sense; why write a custom C function to detect if the next character is whitespace when you can just <code>#import &lt;wctype.h&gt;</code> and use <code>iswspace</code>?</p><p>But <code>web-tree-sitter</code> — not an individual parser — is in charge of bundling and exporting these builtins at compile time. That’s a dilemma: parsers can choose any functions they want from the C standard library, but <code>web-tree-sitter</code> has to <em>guess</em> which functions they’ll pick. Out of the box, <a href="https://github.com/tree-sitter/tree-sitter/blob/53cc93c267f473d82c22dbd6d4250653652d3eba/lib/src/wasm/stdlib-symbols.txt" target="_blank" rel="noopener noreferrer">it makes good guesses<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>; but if a parser uses a function that’s <em>not</em> on that list, that parser will fail at runtime when it tries to use that function and finds that it’s just not available.</p><p>If you do a thorough audit of a parser, you can make note of which builtins it’ll need. But some parsers have <em>quite complex</em> external C scanners. And if you overlook one, you won’t find out until runtime.</p><p>Architecturally, Tree-sitter is fixing this by setting firmer rules about which functions you can and can’t use in an external scanner; that list I linked above is now a mandate. But I expect that it’ll be a while before parsers in the wild are updated to reflect this.</p><p>Hence, for now, Pulsar has got to keep track of all the external functions that are used by popular Tree-sitter parsers, and <a href="https://github.com/pulsar-edit/pulsar/blob/master/vendor/web-tree-sitter/README.md" target="_blank" rel="noopener noreferrer">build a custom <code>web-tree-sitter</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> that includes them <em>all</em>. This doesn’t make it bloated or slow, from what I can tell, but it is a chore.</p><p>And it means that, if a community package wants to contribute a Tree-sitter grammar, its author might run up against this problem and have to open a ticket with Pulsar to get us to add new functions to the exports list. We’d be happy to do so, but then the author would have to wait around for the next stable Pulsar release, and all Pulsar users would have to update to that release before they could install that package.</p><h4 id="emscripten-versioning" tabindex="-1"><a class="header-anchor" href="#emscripten-versioning" aria-hidden="true">#</a> Emscripten versioning</h4><p>I’m also not wild about how particular the toolchain is. Turning a parser into a WASM file involves using <a href="https://github.com/sogaiu/ts-questions/blob/master/questions/which-version-of-emscripten-should-be-used-for-the-playground/README.md" target="_blank" rel="noopener noreferrer">a precise version of Emscripten<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> that varies based on the version of Tree-sitter that the parser uses. It’s not a huge problem, but it certainly steepens the learning curve for contributors.</p><p>It also means that we have to keep our build of <code>web-tree-sitter</code> pretty diligently up to date. My experience is that newer versions of <code>web-tree-sitter</code> can consume parsers built against earlier versions, but not <em>vice versa</em>. I’m glad to have backward compatibility, but it does make it rather urgent for us to ensure our <code>web-tree-sitter</code> is as new as possible so that community packages don’t have to build their <code>.wasm</code> files with older versions of the <code>tree-sitter</code> CLI.</p><h4 id="lack-of-custom-predicates" tabindex="-1"><a class="header-anchor" href="#lack-of-custom-predicates" aria-hidden="true">#</a> Lack of custom predicates</h4><p>Other Tree-sitter bindings have the ability to define their own query predicates. This would be quite helpful for Pulsar; it’d allow us to define predicates with more than a single argument and predicates that assert things about a specific capture instead of the whole query. Yet <code>web-tree-sitter</code> doesn’t support this yet. I’ve <a href="https://github.com/tree-sitter/tree-sitter/issues/2904" target="_blank" rel="noopener noreferrer">opened an issue for this<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and it’s possible I might be the one to contribute this when I get the time.</p><p>Until then, our only way of defining custom query logic is by attaching properties to the <code>#is?</code> and <code>#is-not?</code> predicates and doing our own “post-processing” step on the matches that Tree-sitter gives us.</p><h4 id="and-yet-2" tabindex="-1"><a class="header-anchor" href="#and-yet-2" aria-hidden="true">#</a> And yet…</h4><p>Whatever problems we’ve had with <code>web-tree-sitter</code> haven’t prevented us from shipping a bunch of solid parsers that have held up to stress-testing. (Our biggest problem so far has been with our Markdown parser, and we fixed that by migrating to another Tree-sitter Markdown parser that’s more actively maintained.)</p><p>Also, <a href="https://github.com/tree-sitter/tree-sitter/pull/1864" target="_blank" rel="noopener noreferrer">this recent change<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> is exciting: compared to native parsers, <code>.wasm</code> files are self-contained and easy to use, so now even the native Tree-sitter bindings can consume them! The prospect of being able to use <code>.wasm</code> files in this manner means that <code>web-tree-sitter</code> concerns will also be relevant to Tree-sitter’s Rust and C bindings.</p><p>Tree-sitter has also been cracking the whip on external scanners recently; C++ external scanners have been deprecated, and (as mentioned earlier) scanner authors no longer have freedom to use anything they want from the C stdlib. Practically speaking, this isn’t a hardship; if anything, a lack of prescription from Tree-sitter was leading to sloppy choices. (For instance, some parsers wrongly use <code>isalpha</code> instead of <code>iswalpha</code> — the latter being more proper for Unicode text.)</p><p>And the feedback loop is getting shorter: you will now be warned <em>at compile time</em> when you try to make a <code>.wasm</code> file from a parser that consumes functions that are not in the default list of exports.</p><h3 id="error-recovery-is-a-black-box" tabindex="-1"><a class="header-anchor" href="#error-recovery-is-a-black-box" aria-hidden="true">#</a> Error recovery is a black box</h3><p>Tree-sitter is <em>not</em> a fail-on-first-error sort of parser. That strategy would make it completely unsuitable for the task of syntax highlighting in an editor. Imagine adding a new style rule in the middle of a CSS file… and having everything after the cursor flicker as you type, because it’s reacting to the fact that the CSS file is invalid until you’re mostly done typing.</p><p>Invalidity in Tree-sitter is indicated with <code>ERROR</code> and/or <code>MISSING</code> nodes in the tree. Tree-sitter will parse some tokens, notice that they don’t add up to any valid rule, and <a href="https://github.com/tree-sitter/tree-sitter/issues/224#issuecomment-436731626" target="_blank" rel="noopener noreferrer">decide on the <em>least costly way</em><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to get itself back to a valid state. That could mean skipping over the token that put it into an error state (producing an <code>ERROR</code> node). Or it could mean assuming the presence of a node that isn’t there (producing a <code>MISSING</code> node).</p><p>The fact that this process exists is what makes Tree-sitter good for a code editor scenario in which a document frequently flips between “valid” and “invalid.” When it works well, your syntax highlighting is only minimally affected by the invalidity.</p><p>But the fact that it’s <em>largely a black box</em> is frustrating, especially in rare scenarios in which Tree-sitter makes a catastrophically bad choice in how to recover. The “costs” of various error recovery strategies are determined by Tree-sitter in ways that may not make much sense to an outside observer.</p><p>Here’s a very simple example from the <code>tree-sitter-css</code> parser:</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">div</span> <span class="token punctuation">{</span>
  justif
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If your cursor is at the end of <code>justif</code>, you’re probably about to type something like <code>y-content: space-between;</code>. Because of recent enhancements to CSS, the <code>justif</code> token could turn out to be one of several things… but it’s probably just a property name! And the parser should assume it’s a property name until it’s certain that it isn’t.</p><p>Yet <code>tree-sitter-css</code> doesn’t parse it this way:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>(stylesheet [0, 0] - [3, 0]
  (rule_set [0, 0] - [2, 1]
    (selectors [0, 0] - [0, 3]
      (tag_name [0, 0] - [0, 3]))
    (block [0, 4] - [2, 1]
      (ERROR [1, 2] - [1, 6]
        (attribute_name [1, 2] - [1, 8])))))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Instead, it’s chosen to interpret <code>justif</code> as an attribute name. Faced with the theoretical ambiguity of whether <code>justif</code> will end up as a property name or a tag name (remember that <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_nesting/Using_CSS_nesting" target="_blank" rel="noopener noreferrer">you can nest CSS selectors<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> now!)… Tree-sitter has chosen a third option that <em>isn’t valid</em> there.</p><p>There are various annoyances like this in the <code>tree-sitter-css</code> parser. Maybe they can be fixed without new Tree-sitter features, but to me it doesn’t seem like <code>tree-sitter-css</code> is poorly written; it’s just that CSS itself may be designed in a way that makes it especially susceptible to the downsides of Tree-sitter’s design decisions.</p><p>This is especially painful because the <code>autocomplete-css</code> package tries to inspect scope information to determine which completions to suggest at the position of the cursor. The legacy TextMate-style grammar is much better at interpreting incomplete lines than the modern Tree-sitter CSS grammar, so this isn’t just a cosmetic issue; it means that Pulsar is now worse at suggesting CSS completions. (We have tentative plans to address this by no longer using scope information as the primary driver of suggestion information, but it hasn’t gotten the necessary attention yet.)</p><p>This is something that <em>must</em> get better if Tree-sitter wants to realize its potential. Hence there are two different requests I’d like to make as an occasional parser author:</p><ol><li>Give authors <a href="https://github.com/tree-sitter/tree-sitter/issues/2404" target="_blank" rel="noopener noreferrer">the ability to influence the error recovery process<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> by hinting at the “cost” of a missing or skipped token.</li><li>Allow authors to anticipate certain common invalidities and handle them by returning explicit <code>ERROR</code> and <code>MISSING</code> tokens.</li></ol><p>Of these two requests, the first feels much more reasonable. I haven’t fleshed out how the second idea would work, or even whether it’s a good idea; it could just be a footgun.</p><p>But I know <em>exactly</em> how I want Tree-sitter to parse the incomplete CSS above, and it’s frustrating that I can’t just <em>say</em> so.</p><h4 id="and-yet-3" tabindex="-1"><a class="header-anchor" href="#and-yet-3" aria-hidden="true">#</a> And yet…</h4><p>This is a known issue and <a href="https://github.com/tree-sitter/tree-sitter/issues/1870#issuecomment-1248659929" target="_blank" rel="noopener noreferrer">it’s on Max’s long-term roadmap<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. The optimism is more remote here because the problems with solutions that exist <em>only in Max’s mind</em> have, well, more <em>bottlenecks</em> than other problems.</p><p>For selfish reasons, I’m highly interested in this getting done, but if I wanted it done on my timetable I probably should have majored in computer science instead of journalism.</p><h3 id="you-re-at-the-mercy-of-the-parser-author" tabindex="-1"><a class="header-anchor" href="#you-re-at-the-mercy-of-the-parser-author" aria-hidden="true">#</a> You’re at the mercy of the parser author</h3><p>Suppose TypeScript introduces a new syntactic construct in a minor version, and suppose you’re a diligent TypeScript user who starts using the new version on day one. Will your syntax highlighting be ready for the new feature?</p><p>In this example, you’re in luck: since the TypeScript release process is so gradual, chances are good that the <code>tree-sitter-typescript</code> parser will have been updated to support the new syntax on day one. Pulsar releases monthly, which should mean plenty of lead time for us to see the changes to <code>tree-sitter-typescript</code> and generate a new parser for the next release.</p><p>Now imagine you’re using a more obscure parser, one written by a third party rather than maintained by the <code>tree-sitter</code> GitHub organization. <a href="https://sass-lang.com/" target="_blank" rel="noopener noreferrer">SCSS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> is a good example: you can see that it’s got <a href="https://github.com/serenadeai/tree-sitter-scss" target="_blank" rel="noopener noreferrer">a decent parser<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, but there are lots of valid SCSS constructs that that parser doesn’t support, and the last commit to the repo is thirty months old.</p><p>Do you know enough about Tree-sitter to fix it yourself? And if so, what do you do if the repo is dead? Do you fork it and increase the bounds of your reluctant code ownership? (This is how I “solved” the SCSS example; <a href="https://github.com/savetheclocktower/tree-sitter-scss/" target="_blank" rel="noopener noreferrer">my fork<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> fixes most of what the original repo didn’t support, but I am not an <em>enthusiastic</em> maintainer.)</p><p>Now suppose it isn’t obscure — just especially technically challenging. Would you be up for maintaining it? (Writing a <a href="https://github.com/tree-sitter/tree-sitter-bash" target="_blank" rel="noopener noreferrer"><code>tree-sitter-bash</code> parser<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> strikes me as a startling act of hubris. I think even the precious few among us who consider themselves good <em>writers</em> of shell scripts would balk at writing a tool that <em>tried to understand</em> shell scripts.)</p><p>All of these headaches could just as easily apply to a TextMate grammar, of course. But because TextMate grammars are less ambitious, they tend to recover better from constructs they don’t understand, and they tend to be easier to fix than Tree-sitter grammars because they don’t require such deep understanding of their internals.</p><h4 id="and-yet-4" tabindex="-1"><a class="header-anchor" href="#and-yet-4" aria-hidden="true">#</a> And yet…</h4><p>Everything’s obscure and inscrutable until it isn’t. History teaches us that the way out of this dilemma is to get more people using and depending on Tree-sitter — something that’s already happening on its own.</p><p>Another good sign is the emergence of the <a href="https://github.com/tree-sitter-grammars/" target="_blank" rel="noopener noreferrer"><code>tree-sitter-grammars</code> organization<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Until recently, there were two kinds of grammars: first-party grammars that lived in the <code>tree-sitter</code> organization, and grammars that were maintained by third parties. The presence of the latter kind of grammar is promising (other people are using Tree-sitter!) but also a bit anxiety-inducing (the author could get bored or distracted at any point!), and I’ve made pull requests for several third-party grammars that languished for months. (It’s also why I maintain a <code>tree-sitter-scss</code> fork.)</p><p>Many of the most high-profile third-party Tree-sitter grammars have migrated to the <code>tree-sitter-grammars</code> organization in the last few months. It’s a small gesture, but it helps reassure me that those grammars won’t just languish if their original authors stop contributing.</p><h2 id="pulsar-specific-challenges" tabindex="-1"><a class="header-anchor" href="#pulsar-specific-challenges" aria-hidden="true">#</a> Pulsar-specific challenges</h2><p>Now we’re getting into challenges that might only be <em>laid bare</em> by Tree-sitter. A less flattering heading might have read <em>Corners we’ve painted ourselves into</em>.</p><h3 id="memory-needs-managing" tabindex="-1"><a class="header-anchor" href="#memory-needs-managing" aria-hidden="true">#</a> Memory needs managing</h3><p>When you work with WebAssembly for the first time, it may surprise you to learn that you’ll probably need to manage your own memory.</p><p>JavaScript developers have it pretty easy when trying to prevent memory leaks: they can rely on garbage collection once an object has no more strong references to it. But WebAssembly operates outside of the engine’s standard GC process and requires <em>explicit</em> freeing of resources. A WASM module will be allocated a certain amount of memory when loaded; the author can choose the size of that allocation and whether it can grow over time. But once the module hits its maximum allowable memory usage, <em>that’s it</em>. Any further attempts to allocate will trigger exceptions.</p><p>In <code>web-tree-sitter</code>, if I call <code>parse</code> on a buffer and get back a tree object, I am now <em>in charge</em> of the lifecycle of that object. The memory that has been allocated to build that object cannot be reused <em>until</em> I destroy that object. I can’t just null out a variable reference and rely on the engine to take care of it.</p><p>Tree-sitter gives us the tools we need here; every tree holds a <code>delete</code> method that will dispose of it and free the associated memory. Since trees are created and thrown away with each keystroke, this is <em>incredibly</em> important for Pulsar to keep track of. When a tree is stale, we must explicitly dispose of it. Indentation hinting sometimes forces us to do an extra middle-of-transaction tree parse; if that happens, we have to save a reference to it until the next parsing cycle and clean it up along with the other stale trees.</p><p>And if a community package wants to hook into the Tree-sitter lifecycle to do something cool, it can’t just keep a reference to a parsed tree and assume it’ll hang around forever. If it tries, it will discover later that the tree is a useless stub of its former self because we called <code>delete</code> on it. Instead, it must first <code>await</code> until a fresh parsed tree is available — often one will be available immediately, but not always. Then it must choose between (a) processing the tree synchronously <em>before</em> it has a chance to go stale, or (b) explicitly copying the tree via a <code>copy</code> method — in which case <em>it’s</em> in charge of managing the life-cycle of that copy.</p><p>Tree-sitter is a major opportunity for community packages; they can query the tree just as easily as Pulsar core. But it’s also a dilemma for the Pulsar team, because it’s not clear how to expose this to package authors. They deserve to have access to parsing information, but we also don’t want a community package to break because of a breaking API change in <code>web-tree-sitter</code>.</p><p>Ultimately — whether we offer community packages direct access to the tree or mediate it via some sort of wrapper — it’s not possible to conceal these quirks from package authors. The Pulsar API has taught them to be dutiful about resource management with <code>Disposable</code> objects and <code>onDidDestroy</code> callbacks… but this is another level entirely. If you want to do anything clever with Tree-sitter in a package, please bear it in mind.</p><h4 id="and-yet-5" tabindex="-1"><a class="header-anchor" href="#and-yet-5" aria-hidden="true">#</a> And yet…</h4><p>Everything I just complained about is, as of very recently, <a href="https://developer.chrome.com/blog/wasmgc/" target="_blank" rel="noopener noreferrer">not necessarily how WebAssembly works anymore<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. More implicit strategies for garbage collection are suddenly possible.</p><p>As far as I understand, we wouldn’t get this for free; we’d need <code>web-tree-sitter</code> to support it, and we’d only reap the benefits once we can move to a modern Electron version. But it’s still refreshing to envision a future in which dealing with a WASM library feels <em>less</em> like trying to solve a Rubik’s cube while wearing rubber dishwashing gloves.</p><p>(One reason we might not want to offer direct access to <code>web-tree-sitter</code> APIs is to preserve the option of migrating back to <code>node-tree-sitter</code> in the future. But there were recent efforts to harmonize the API differences between the two bindings, so that might make life easier for our future selves.)</p><h3 id="parsing-performance-needs-managing" tabindex="-1"><a class="header-anchor" href="#parsing-performance-needs-managing" aria-hidden="true">#</a> Parsing performance needs managing</h3><p>For the vast majority of files that a user will edit, I believe that our modern Tree-sitter system will highlight code with at least comparable performance to the equivalent TextMate grammar system. It can handle files that are thousands of lines long; I know because the file that implements most of the systems I’ve been describing is 4200 lines long, and it worked swimmingly even <em>before</em> I applied optimizations. In my experience, it applies syntax highlighting much more quickly than a TextMate grammar does when loading a large file.</p><p>But a text editor has a way of finding all of your edge cases. Under a worst-case scenario — a gigantic file with very long lines — both systems will fall down. But Tree-sitter will fall down <em>sooner</em>. That’s because it’s still a system that, by design, must parse the <em>entire file</em> at least once. That approach won’t scale to certain kinds of files, like log files, that a user could plausibly try to open within Pulsar.</p><p>To ensure that we don’t lock up the editor when faced with a monumental parsing task, Tree-sitter parses can go asynchronous. Right now, a parse is only allowed to run for <em>three milliseconds</em> at a time before we pause it so that other tasks can run.</p><p>If a parse takes more than three milliseconds, it’s almost certainly the <em>initial</em> parse that happens when a file is opened. Parsing will continue for as many three-millisecond blocks as are necessary, with long enough pauses in between to ensure the UI is still responsive. And edits (even edits to <em>gigantic</em> files) are lightning-fast because most of the earlier work can be reused.</p><p>I think there’s still some work to be done at determining the best compromise between <em>job time</em> (how long we let a parse run before pausing it) and <em>idle time</em> (how long we wait in between jobs to allow other code to run). Right now, idle time is very low, and I could entertain an argument for it to be increased; but if we did that, we’d probably want to increase job time to compensate for it. Ultimately, the goal is that we allow the editor’s display layer enough time to do the work it needs to hit its usual 60 frames per second — which means we’re talking about how best to spend the <em>16.67 milliseconds</em> we get to paint each frame.</p><p>Indentation hinting might be the biggest threat to that time budget. TextMate-style indentation hinting is cheap because it can just execute a regular expression against one line of content, but Tree-sitter indentation hinting requires a fresh syntax tree. Sometimes we have to reparse earlier than we otherwise would’ve just to deliver accurate hinting. In the most common cases, this isn’t a big deal; but some scenarios would require us to do lots of reparses in quick succession, and we’ve had to develop strategies to handle those cases. (I won’t bore you further with this; you can <a href="https://github.com/pulsar-edit/pulsar/blob/38c0b8837f9c2b43df2846d809ef5bbab0f46a9d/src/wasm-tree-sitter-language-mode.js#L1230-L1249" target="_blank" rel="noopener noreferrer">read the source code<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> if this topic fascinates you.)</p><h3 id="and-yet-6" tabindex="-1"><a class="header-anchor" href="#and-yet-6" aria-hidden="true">#</a> And yet…</h3><p>I believe that raw parsing speed in <code>web-tree-sitter</code> is pretty well optimized. But I also think that, over time, the performance penalty of WebAssembly in Chromium can only decrease as more and more attention is paid to it. This is one reason why I’m eager to upgrade our version of Electron and enjoy any optimizations to WASM and V8 that have landed in Chromium in the last couple of years.</p><p>And we’ve got something in our back pocket: the <code>node-tree-sitter</code> bindings have (theoretically) been updated so that they can be used in Electron apps. Migrating back to <code>node-tree-sitter</code> would surely improve parsing and querying speed. But for all its headaches, <code>web-tree-sitter</code>’s <code>.wasm</code> files really do make distribution easier. They don’t have to be built for the user’s architecture, nor rebuilt when the version of Electron changes. If we made this change, it’d have to have <em>large</em> upside to justify the whiplash for grammar authors.</p><h3 id="highlighting-performance-needs-managing" tabindex="-1"><a class="header-anchor" href="#highlighting-performance-needs-managing" aria-hidden="true">#</a> Highlighting performance needs managing</h3><p>Pulsar uses an internal library called <code>text-buffer</code>. That’s the library that handles buffer rendering. It uses pure DOM manipulation without a library and it’s <em>fast</em>. It’s one of the few things we haven’t touched at all since the fork.</p><p>But one of the biggest bottlenecks in Pulsar has to do with the fact that <code>text-buffer</code> can only apply highlighting in increments of <em>buffer lines</em>. In the worst-case scenario — a large file without any newlines — that means that every single change made to the buffer forces the <em>entire file</em> to be re-highlighted.</p><p>In one sense, this is a small problem; 99% of files you’ll encounter in an editor have a reasonable number of characters per line. But in another sense, it’s a big problem, since Pulsar is typically thoughtful enough not to waste time trying to highlight regions of the screen you won’t even see. If a large file has no newlines, we’ve got no choice but to try to highlight the entire thing.</p><p>This bottleneck affects all grammars alike, so it’s not new information. And it’s something that we could try to fix! Speaking personally, though: I think it’d be a high-risk change. I’d want to understand <code>text-buffer</code> much better than I currently do before taking a stab at it.</p><p>In the meantime, there are already checks in place that limit syntax highlighting on very large files. But right now, the systems we have to detect those kinds of files aren’t robust enough. We disable syntax highlighting if a file exceeds a certain size, but this does nothing to address files that have extremely long lines even if the files themselves aren’t enormous.</p><p>When we know a long buffer line will give us trouble, we should default the user to a plain-text grammar and offer them the choice of opting into syntax highlighting if they’re willing to risk it — just like we do for large files today.</p><h4 id="and-yet-7" tabindex="-1"><a class="header-anchor" href="#and-yet-7" aria-hidden="true">#</a> And yet…</h4><p>This one is wholly within Pulsar’s control to fix; it’s just a matter of finding time — or finding more contributors.</p><h3 id="query-predicates-and-footguns" tabindex="-1"><a class="header-anchor" href="#query-predicates-and-footguns" aria-hidden="true">#</a> Query predicates and footguns</h3><p>It’s a strange gap in Tree-sitter query syntax that there’s no way to test the position of an anonymous node. Because we’d need that fairly often, I had to come up with a way of applying that constraint on our own. I invented conventions for applying additional tests on captures using the <code>#is?</code> and <code>#is-not?</code> predicates.</p><p>Those first few custom predicates were simple utilities that tested straightforward things about a node and how it related to the rest of the tree.</p><p>But because custom predicates are implemented in JavaScript, they’re a powerful bridge into the rest of the Pulsar environment. And once I saw that they were quite fast in practice, I got bolder and wrote other sorts of predicates that integrated with other systems.</p><p>For instance, <code>test.config</code> — passing or failing a predicate based on the state of a Pulsar configuration value — feels weird because it talks to a different Pulsar system that has nothing to do with code parsing; yet the case for its existence is too strong to be denied. We’ve already used it in <code>language-javascript</code> and <code>language-typescript</code> to deliver indentation hinting that’s much more helpful than what we had before, but also more opinionated. So it’s crucial that they be configurable — we wouldn’t dare to make some of these decisions for users if they had no way to disable them.</p><p>Right now, Tree-sitter grammars can only use the predicates that we make available to them. Should we allow packages to write their own? Or would that be like giving them a loaded gun and pointing it at the <em>user’s</em> foot?</p><p>Here’s an example: the CSS and PHP grammars both have <code>highlights.scm</code> files where some scope names need to execute <a href="https://github.com/pulsar-edit/pulsar/blob/38c0b8837f9c2b43df2846d809ef5bbab0f46a9d/packages/language-css/grammars/tree-sitter/queries/highlights.scm#L189-L190" target="_blank" rel="noopener noreferrer">a <em>big</em> regular expression<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> against the contents of a node. There are <em>lots</em> of CSS properties and values, and there are <em>even more</em> functions in PHP’s large and chaotic standard library. And CSS especially is a moving target, with new properties and values added every year.</p><p>Ideally, this sort of information wouldn’t live in a <code>highlights.scm</code> file. To me, if individual grammars had the ability to define their own query predicates, this would be the killer application:</p><ol><li>Define a JSON file with nothing but names of functions (or properties or whatever else), optionally grouped by some criterion.</li><li>Have a language grammar parse that file on activation and put those functions into one or more <code>Set</code>s.</li><li>Allow the language grammar to define a <code>language-foo.isKnownFunction</code> predicate that does nothing but test for presence of a function name in any of these sets.</li></ol><p>That’d probably be even quicker than a regex test. It’d keep the <code>highlights.scm</code> much sleeker. And it’d put the source of truth into a much more maintainable structure — a JSON file — which could be used for other purposes, like autocompletion suggestions.</p><p><em>So what’s the problem</em>, you might think. Well, to give a language package the ability to do a very smart thing like this, I’d also have to give it the ability to do lots of <em>potentially stupid</em> things. A poorly designed custom predicate could instantly become a major drag on editor performance without it even being obvious what the culprit is. When editor performance suffers, people get annoyed! They might complain to us instead of the package author — fair, because how are they supposed to know the real source of the problem?</p><h4 id="and-yet-8" tabindex="-1"><a class="header-anchor" href="#and-yet-8" aria-hidden="true">#</a> And yet…</h4><p>Ultimately, I think this is too powerful of a tool to justify not using it for our own language packages. And if our own language packages can use it, so can community packages — to do otherwise would be a violation of Pulsar’s ethos.</p><p>So I think the best way forward would be to define ground rules for what custom predicates can do and how long they can take to do it — even to the extent of setting time budgets and warning when they’re too slow.</p><h2 id="why-are-you-telling-me-this" tabindex="-1"><a class="header-anchor" href="#why-are-you-telling-me-this" aria-hidden="true">#</a> Why are you telling me this?</h2><p>Other than the fact that the internet is largely for complaining, what’s the point of this airing of grievances?</p><p>I don’t want you to misunderstand. I’m now a regular Tree-sitter contributor and have just written six blog posts about how cool it is, so I’m not trying to be a buzzkill here.</p><p><strong>Highlighting source code is hard!</strong> Here’s how I know:</p><ul><li>The most popular code editors of the past decade have highlighted your source code with <a href="https://macromates.com/manual/en/language_grammars#naming_conventions" target="_blank" rel="noopener noreferrer">a system created 20 years ago<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> by a macOS-only editor that most people had stopped using by 2010.</li><li>That system can only work alongside <a href="https://github.com/kkos/oniguruma" target="_blank" rel="noopener noreferrer">a specific regular expression engine with ornery syntax<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</li><li>Microsoft — a huge tech company that can afford to have a team of people work on <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">a code editor that they distribute for free<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> — decided the best way to deliver a consistent highlighting experience across that editor’s <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">desktop<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <a href="https://vscode.dev/" target="_blank" rel="noopener noreferrer">web<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> versions was to <a href="https://github.com/microsoft/vscode-oniguruma" target="_blank" rel="noopener noreferrer">port that obscure regular expression engine to WebAssembly<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</li></ul><p>That’s how much editor authors <em>don’t</em> want to write their own syntax highlighting system. If it were easy, someone would’ve done it by now!</p><p>If you’re wondering why Tree-sitter is gathering so much momentum despite being around for years and <em>still</em> not having a 1.0 release… it’s because it’s clearly better than what we had before, warts and all.</p><h3 id="you-still-haven-t-sold-me" tabindex="-1"><a class="header-anchor" href="#you-still-haven-t-sold-me" aria-hidden="true">#</a> You still haven’t sold me</h3><p>As this series illustrates, I’m excited about the handful of ways that Tree-sitter makes Pulsar a better editor. But if you feel like you’re being swept up in these grammars that you don’t care much about, I want to make sure you know that there are solutions! Tree-sitter makes grammars customizable enough to accommodate even the tiniest and most arbitrary of gripes.</p><p>Even if your nitpick is as small as “I want <code>this</code> in JavaScript to be a different color than it is”… <a href="https://discord.gg/7aEbB9dGRT" target="_blank" rel="noopener noreferrer">hop into Discord<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and ask for help. We’ll be able to give you the right snippet to put into your user stylesheet.</p><p>But if it’s more fundamental than that, and you just want the highlighting you were used to, then I’ll state it again for safety: <strong>the original TextMate-style grammars aren’t going anywhere</strong>. We’re not even <em>tempted</em> to drop support for that system. It would break backward compatibility and make lots of our users unhappy… without delivering any meaningful progress in performance, complexity, or bundle size.</p><p>Nearly all built-in languages have a TextMate-style grammar you can fall back on. If a particular Tree-sitter grammar causes you pain for whatever reason, you can selectively revert to the TextMate grammar with a scope-specific setting in your <code>config.cson</code>:</p><div class="language-coffeescript ext-coffeescript line-numbers-mode"><pre class="language-coffeescript"><code><span class="token string-property property">&quot;.source.css&quot;</span><span class="token operator">:</span> <span class="token comment"># (or any other grammar)</span>
  <span class="token property">core</span><span class="token operator">:</span>
    <span class="token property">useTreeSitterParsers</span><span class="token operator">:</span> <span class="token keyword">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You may be relying on a <em>legacy</em> Tree-sitter grammar; and if so, I regret to tell you that that grammar <em>will</em> be going away soon. But since legacy Tree-sitter offered a very similar set of trade-offs as modern Tree-sitter does, I’m much more confident that the modern version of that grammar will be able to meet your needs.</p><h2 id="you-ve-reached-the-end-of-the-series" tabindex="-1"><a class="header-anchor" href="#you-ve-reached-the-end-of-the-series" aria-hidden="true">#</a> You’ve reached the end of the series</h2><p>If you’ve read them all, give yourself a round of applause. And if you find this subject fascinating enough to have read the whole thing, and you’re not already a Pulsar contributor, then I bet we could use your efforts somewhere. <a href="https://discord.gg/7aEbB9dGRT" target="_blank" rel="noopener noreferrer">Visit our Discord<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> or any of the other communities listed in the menu above if you’d like to have technical discussions about stuff like this.</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/pulsar-edit/pulsar-edit.github.io/edit/main/docs/blog/20240902-savetheclocktower-modern-tree-sitter-part-7.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">Last update: </span><!----></div><div class="meta-item contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: github@andrewdupont.net">Andrew Dupont</span><!--]--><!--]--></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><!--<div><object type="image/svg+xml" data="/logo-name-footer.svg" ></object></div>TODO: Fix - I have simply run out of talent to make this work correctly with external CSS or modifying the internal values. At I can get this to do what I want when the SVG is inline-->

    <!--The below inline SVG is the same code (with unnecessary inkscape values removed) as is in .vuepress/public/logo-name-footer.svg but inline so I can actually manipulate it with the index.css file-->

    <div><svg
       width="150.91833mm"
       height="50.720619mm"
       viewBox="0 0 150.91833 50.720619"
       version="1.1"
       id="logo-footer"
       xmlns="http://www.w3.org/2000/svg"
       xmlns:svg="http://www.w3.org/2000/svg">
      <defs
         id="defs1442">
      </defs>
      <g
         inkscape:label="Layer 1"
         inkscape:groupmode="layer"
         id="layer1"
         transform="translate(-43.20444,-65.412972)">
        <path
           class="st0 class1"
           d="m 68.57798,84.621722 c -3.38667,0 -6.13833,2.75167 -6.13833,6.13833 0,3.38667 2.75166,6.13833 6.13833,6.13833 3.38667,0 6.13833,-2.75166 6.13833,-6.13833 0,-3.38666 -2.75166,-6.13833 -6.13833,-6.13833 z"
           id="path42"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 61.03736,99.200262 c 0.21166,0.0794 0.42333,0.13229 0.635,0.13229 0.42333,0 0.8202,-0.15875 1.1377,-0.47625 0.635,-0.635 0.635,-1.66687 0,-2.30187 -0.3175,-0.3175 -0.74083,-0.47625 -1.16416,-0.47625 -0.42334,0 -0.84667,0.15875 -1.16417,0.47625 -0.47625,0.47625 -0.60854,1.19062 -0.34396,1.7727 l -3.28083,1.27 -13.6525,16.245418 0.29104,0.29104 16.24542,-13.6525 z"
           id="path44"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 58.55027,105.65609 c 1.42875,1.21709 2.88396,2.30188 4.41854,3.28084 0.55563,-0.21167 1.77271,-0.68792 2.30188,-1.00542 -1.87854,-1.08479 -3.38667,-2.19604 -5.10646,-3.65125 z"
           id="path46"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 77.38861,79.065472 -1.27,3.28083 c -0.21167,-0.0794 -0.42334,-0.13229 -0.60855,-0.13229 -0.42333,0 -0.8202,0.15875 -1.1377,0.47625 -0.635,0.635 -0.635,1.66688 0,2.30188 0.3175,0.3175 0.74083,0.47625 1.16416,0.47625 0.42334,0 0.84667,-0.15875 1.16417,-0.47625 0.47625,-0.47625 0.60854,-1.19063 0.34396,-1.77271 l 3.28083,-1.27 13.6525,-16.24542 -0.29104,-0.29104 z"
           id="path48"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 75.2984,79.912142 c -1.95792,-1.21709 -4.25979,-1.93146 -6.72042,-1.93146 -7.03792,0 -12.77937,5.74146 -12.77937,12.77937 0,2.46063 0.71437,4.7625 1.93145,6.72042 l 0.68792,-0.26459 c 0.10583,-0.68791 0.42333,-1.32291 0.92604,-1.85208 0.10584,-0.10583 0.21167,-0.18521 0.34396,-0.29104 -0.635,-1.29646 -1.00542,-2.77813 -1.00542,-4.31271 0,-5.45041 4.445,-9.89541 9.89542,-9.89541 1.56104,0 3.01625,0.37041 4.31271,1.00541 0.0794,-0.10583 0.15875,-0.23812 0.26458,-0.34396 0.50271,-0.5027 1.13771,-0.8202 1.85209,-0.92604 z"
           id="path50"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 68.57798,100.65547 c -1.56104,0 -3.01625,-0.37042 -4.31271,-1.005418 -0.0794,0.10583 -0.15875,0.23813 -0.26458,0.34396 -0.50271,0.502708 -1.13771,0.820208 -1.85208,0.926038 l -0.26459,0.68792 c 1.95792,1.21708 4.25979,1.93146 6.72042,1.93146 7.03792,0 12.77937,-5.741458 12.77937,-12.779378 0,-2.46062 -0.71437,-4.7625 -1.93145,-6.72041 l -0.68792,0.26458 c -0.10583,0.68792 -0.42333,1.32292 -0.92604,1.85208 -0.10584,0.10584 -0.21167,0.18521 -0.34396,0.29104 0.635,1.29646 1.00542,2.77813 1.00542,4.31271 -0.0265,5.47688 -4.47146,9.895418 -9.92188,9.895418 z"
           id="path52"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 47.49069,90.786512 c -2.64583,6.50875 -2.77813,12.911668 0.0265,17.383118 l 1.40229,-1.66687 c -1.905,-3.46604 -1.905,-8.149168 -0.23813,-13.096878 1.32292,2.56646 3.01625,5.08 5.02709,7.408338 l 1.34937,-1.587498 c -2.24896,-2.67229 -4.04812,-5.52979 -5.34458,-8.44021 1.69333,-3.81 4.31271,-7.64646 7.77875,-11.1125 3.38667,-3.38667 7.19667,-6.0325 11.08604,-7.77875 2.8575,1.27 5.74146,3.04271 8.46667,5.34458 l 1.5875,-1.34937 c -2.38125,-2.03729 -4.92125,-3.70417 -7.43479,-5.00063 0.84666,-0.29104 1.66687,-0.52916 2.48708,-0.71437 4.18042,-0.9525 7.83167,-0.60854 10.63625,0.92604 l 1.66687,-1.40229 c -3.30729,-2.11667 -7.75229,-2.67229 -12.75291,-1.53458 -1.56104,0.34395 -3.12209,0.84666 -4.68313,1.50812 -7.56708,-3.09562 -14.97541,-2.75167 -19.39396,1.66688 -3.41312,3.41312 -4.55083,8.67833 -3.175,14.7902 0.34396,1.56105 0.87313,3.12209 1.50813,4.65667 z m 3.09562,-17.99167 c 3.4925,-3.4925 9.23396,-3.9952 15.3723,-1.93145 -3.4925,1.79916 -6.90563,4.28625 -9.94834,7.35541 -3.09562,3.09563 -5.55625,6.50875 -7.32896,9.94834 -0.26458,-0.82021 -0.52916,-1.64042 -0.71437,-2.48709 -1.19063,-5.42396 -0.26458,-10.00125 2.61937,-12.88521 z"
           id="path54"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 82.12465,82.319842 c 2.27541,2.72521 4.07458,5.60917 5.34458,8.44021 l -0.0265,0.0794 c -1.74625,3.88937 -4.41854,7.69937 -7.72583,11.006658 -4.86833,4.86834 -10.60979,8.22854 -16.1925,9.49854 -4.18042,0.9525 -7.83167,0.60855 -10.63625,-0.92604 l -1.66688,1.40229 c 2.19605,1.4023 4.86834,2.11667 7.85813,2.11667 1.56104,0 3.20146,-0.18521 4.89479,-0.58208 5.95313,-1.34938 12.065,-4.89479 17.19792,-10.02771 3.01625,-3.01625 5.52979,-6.429378 7.35541,-9.948328 2.06375,6.13833 1.56105,11.879788 -1.93145,15.372288 -2.64584,2.64583 -6.7998,3.62479 -11.58875,2.8575 -0.89959,0.55562 -1.79917,1.05833 -2.72521,1.50812 2.03729,0.52917 3.99521,0.82021 5.82083,0.82021 4.02167,0 7.48771,-1.27 9.94833,-3.73062 6.40292,-6.40292 4.2598,-19.129378 -4.55083,-29.474588 z"
           id="path56"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 88.23652,75.043802 c 1.16417,2.14313 1.61396,4.81542 1.34938,7.80521 0.60854,0.9525 1.16416,1.93146 1.64041,2.88396 1.00542,-4.84188 0.4498,-9.12813 -1.61395,-12.3825 z"
           id="path58"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 113.02798,84.092552 h -11.00667 v 15.00188 h 2.56646 v -5.2123 h 0.18521 l 8.22854,-0.0264 c 0.79375,0 1.45521,-0.29105 2.01083,-0.84667 0.55563,-0.55563 0.84667,-1.21708 0.84667,-1.98437 v -4.10105 c 0,-0.76729 -0.29104,-1.4552 -0.84667,-1.98437 -0.52916,-0.55563 -1.21708,-0.84667 -1.98437,-0.84667 z m 0.26458,6.95854 c 0,0.15875 -0.10583,0.26459 -0.26458,0.26459 h -8.14917 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -4.10104 c 0,-0.15875 0.10583,-0.26458 0.26458,-0.26458 h 8.14917 c 0.15875,0 0.26458,0.10583 0.26458,0.26458 z"
           id="path60"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 129.06173,96.289842 c 0,0.18521 -0.13229,0.26459 -0.23813,0.26459 h -8.17562 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -12.19729 h -2.56646 v 12.19729 c 0,0.79375 0.26458,1.45521 0.82021,2.01084 0.55562,0.55562 1.21708,0.8202 2.01083,0.8202 h 8.17562 c 0.7673,0 1.45521,-0.29104 1.98438,-0.8202 0.55562,-0.55563 0.84667,-1.21709 0.84667,-2.01084 v -12.19729 h -2.59292 z"
           id="path62"
           style="stroke-width:0.264583" />
        <polygon
           class="st0 class1"
           points="-307.4,-4970.9 -307.4,-4980.7 -343.8,-4980.7 -343.8,-5027.8 -353.6,-5027.8 -353.6,-4970.9 "
           id="polygon64"
           transform="matrix(0.26458333,0,0,0.26458333,227.77777,1414.3382)" />
        <path
           class="st0 class1"
           d="m 158.6686,84.066092 h -8.17562 c -0.79375,0 -1.45521,0.29105 -2.01083,0.82021 -0.55563,0.55563 -0.82021,1.21709 -0.82021,2.01084 v 3.14854 c 0,0.79375 0.26458,1.4552 0.82021,2.01083 0.55562,0.55562 1.21708,0.82021 2.01083,0.82021 h 8.17562 c 0.10584,0 0.23813,0.0794 0.23813,0.26458 v 3.14854 c 0,0.18521 -0.13229,0.26459 -0.23813,0.26459 h -8.17562 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -1.05833 h -2.56646 v 1.05833 c 0,0.79375 0.26458,1.45521 0.82021,2.01084 0.55562,0.55562 1.21708,0.8202 2.01083,0.8202 h 8.17562 c 0.7673,0 1.45521,-0.29104 1.98438,-0.8202 0.55562,-0.55563 0.84667,-1.21709 0.84667,-2.01084 v -3.14854 c 0,-0.79375 -0.29105,-1.45521 -0.84667,-2.01083 -0.55563,-0.55563 -1.21708,-0.82021 -1.98438,-0.82021 h -8.17562 c -0.15875,0 -0.26458,-0.10583 -0.26458,-0.26458 v -3.14854 c 0,-0.15875 0.10583,-0.26459 0.26458,-0.26459 h 8.17562 c 0.10584,0 0.23813,0.0794 0.23813,0.26459 v 1.05833 h 2.59292 v -1.05833 c 0,-0.79375 -0.29105,-1.45521 -0.84667,-2.01084 -0.52917,-0.52916 -1.21708,-0.82021 -1.98438,-0.82021 z"
           id="path66"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 175.04631,84.066092 h -8.14916 c -0.79375,0 -1.45521,0.29105 -2.01084,0.82021 -0.55562,0.55563 -0.82021,1.21709 -0.82021,2.01084 v 12.19729 h 2.56646 v -5.13292 h 8.67834 v 5.13292 h 2.59291 v -12.19729 c 0,-0.79375 -0.29104,-1.45521 -0.84666,-2.01084 -0.55563,-0.52916 -1.24355,-0.82021 -2.01084,-0.82021 z m 0.26459,7.35542 h -8.67834 v -4.49792 c 0,-0.15875 0.10584,-0.26458 0.26459,-0.26458 h 8.14916 c 0.15875,0 0.26459,0.10583 0.26459,0.26458 z"
           id="path68"
           style="stroke-width:0.264583" />
        <path
           class="st0 class1"
           d="m 193.2761,93.035472 c 0.55563,-0.55563 0.84667,-1.21709 0.84667,-1.98438 v -4.10104 c 0,-0.76729 -0.29104,-1.45521 -0.84667,-1.98437 -0.55562,-0.55563 -1.24354,-0.84667 -2.01083,-0.84667 h -10.98021 v 15.00187 h 2.56646 v -5.23875 h 3.96875 l 0.0265,0.0529 4.36562,5.18583 h 2.88396 v -0.55562 l -3.91583,-4.65667 h 1.05833 c 0.82021,-0.0265 1.48167,-0.3175 2.03729,-0.87312 z m -10.16,-1.71979 c -0.15875,0 -0.26458,-0.10584 -0.26458,-0.26459 v -4.10104 c 0,-0.15875 0.10583,-0.26458 0.26458,-0.26458 h 8.14917 c 0.15875,0 0.26458,0.10583 0.26458,0.26458 v 4.10104 c 0,0.15875 -0.10583,0.26459 -0.26458,0.26459 z"
           id="path70"
           style="stroke-width:0.264583" />
      </g>
    </svg></div>

    <div class="socialsBar">
      <a href=http://github.com/pulsar-edit>
        <i class="fa-brands fa-github"></i>
      </a>
      <a href=https://github.com/orgs/pulsar-edit/discussions>
        <i class="fa-solid fa-comments"></i>
      </a>
      <a href=https://discord.gg/7aEbB9dGRT>
        <i class="fa-brands fa-discord"></i>
      </a>
      <a href=https://www.reddit.com/r/pulsaredit/>
        <i class="fa-brands fa-reddit"></i>
      <a rel="me" href=https://fosstodon.org/@pulsaredit>
        <i class="fa-brands fa-mastodon"></i>
      </a>
      <a href=https://lemmy.ml/c/pulsaredit>
        <i class="fa-solid fa-users"></i>
      </a>
      <a href=https://opencollective.com/pulsar-edit>
        <i class="fa-solid fa-hand-holding-dollar"></i>
      </a>
    </div>

    <hr>

    <div class="linksBox">
      <div class="linksBoxLeft">
        <p class="linksBoxHeader"> Pulsar </p>
        <div class="linksBoxContent">
          <ul>
            <li>
              <a href="/download.html"> Downloads </a>
            </li>
            <li>
              <a href="/docs/"> Documentation </a>
            </li>
            <li>
              <a href=https://web.pulsar-edit.dev/> Package Repository </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="linksBoxMid">
        <p class="linksBoxHeader"> Team </p>
        <div class="linksBoxContent">
          <ul>
            <li>
              <a href="/about.html"> About Us </a>
            </li>
            <li>
              <a href="/blog/"> Blog </a>
            </li>
            <li>
              <a href=http://github.com/pulsar-edit> Org Repositories </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="linksBoxRight">
        <p class="linksBoxHeader"> Resources </p>
        <div class="linksBoxContent">
          <ul>
            <li>
              <a href=https://pulsar-edit.dev/docs/resources/privacy> Privacy Policy </a>
            </li>
            <li>
              <a href=https://pulsar-edit.dev/docs/resources/conduct> Code of Conduct </a>
            </li>
            <li>
              <a href=https://pulsar-edit.dev/community.html> Contact Us </a>
            </li>
          </ul>
        </div>
      </div>

    </div>



  <hr>

  <div class="copyrightBar">
    <span> Pulsar-Edit © 2022-2023 </span>
  </div></div><!----></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.87197fef.js" defer></script>
  </body>
</html>
