import{_ as o,o as i,c as r,e as l,a as e,b as t,d as s,f as a,r as c}from"./app.87197fef.js";const h="/assets/octicons1.9b0fa408.png",p="/assets/octicons2.69cc8255.png",d="/assets/octicons3.a3bf7b53.png",u="/assets/symbols-view.91132e73.png",m="/assets/ghtests.c6b1b477.png",g="/assets/package-webhook.7e0f3c29.png",f="/assets/package-frontend.a8bc39dd.png",k="/assets/sunsetting.aedab22a.png",b="/assets/flight-manual.36cb1750.png",v={},_=e("p",null,"Is it a bird? Is it a plane? No it's the May community update!",-1),w=e("h1",{id:"welcome-to-the-may-community-update",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#welcome-to-the-may-community-update","aria-hidden":"true"},"#"),t(" Welcome to the May Community Update")],-1),y=e("p",null,[t("Hello again and a warm welcome to our May community update! In store for you this time are Pulsar iconography updates, "),e("code",null,"symbols-view"),t(" improvements, CI upgrades and bunch of upgrades to our package backend and website.")],-1),x={href:"https://docs.google.com/forms/d/e/1FAIpQLSfnEEAQHUJbRVcH2NlNvLxmK0ZUcb5xuOCt1pYOGytvne0kJw/viewform?usp=sf_link",target:"_blank",rel:"noopener noreferrer"},j=e("p",null,"Now without further waffling, onto the updates!",-1),T=e("h2",{id:"octicons-iconography-update",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#octicons-iconography-update","aria-hidden":"true"},"#"),t(" Octicons iconography update")],-1),I={href:"https://github.com/pulsar-edit/pulsar/pull/509",target:"_blank",rel:"noopener noreferrer"},E={href:"https://github.com/confused-Techie",target:"_blank",rel:"noopener noreferrer"},S={href:"https://primer.style/octicons/",target:"_blank",rel:"noopener noreferrer"},O=e("em",null,"really",-1),A=e("p",null,"You can see examples of the new Octicons in the below image:",-1),N=e("img",{src:h},null,-1),P=e("p",null,"One of the initial problems to work around was that Octicons no longer ships with font files, only the svg images. This meant that in order to use them they first had to be created as a font. This also meant modifying the font to make sure that the various codes aligned with the old ones so that they could, where possible, be a drop in replacement for the old version without breaking the naming scheme from upstream Octicons for use as reference material.",-1),q=e("img",{src:p},null,-1),L=e("p",null,[t("We have a couple of different goals here. The main one is simply to give more options to ourselves and users in terms of icon variation so that we can make better choices for icon usage. We would of course retain the "),e("code",null,"4.4.0"),t(" set (just as "),e("code",null,"2.1.2"),t(" has also been retained).")],-1),C={href:"https://docs.google.com/forms/d/e/1FAIpQLSfnEEAQHUJbRVcH2NlNvLxmK0ZUcb5xuOCt1pYOGytvne0kJw/viewform?usp=sf_link",target:"_blank",rel:"noopener noreferrer"},J=e("img",{src:d},null,-1),D=e("p",null,"There is still some work to go here, particularly on making sure that where icons are used we are still using the appropriate ones or selecting a more appropriate icon now it is available in the new set.",-1),H={href:"https://github.com/pulsar-edit/pulsar/blob/octicons-v18.3.0/static/icons/README.md",target:"_blank",rel:"noopener noreferrer"},U=e("h2",{id:"symbols-view-improvements",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#symbols-view-improvements","aria-hidden":"true"},"#"),t(" Symbols view improvements")],-1),W=e("img",{src:u},null,-1),F={href:"https://ctags.io/",target:"_blank",rel:"noopener noreferrer"},M=e("em",null,"at all",-1),R={href:"https://github.com/savetheclocktower",target:"_blank",rel:"noopener noreferrer"},V={href:"https://tree-sitter.github.io/tree-sitter/code-navigation-systems",target:"_blank",rel:"noopener noreferrer"},B={href:"https://microsoft.github.io/language-server-protocol/",target:"_blank",rel:"noopener noreferrer"},G=e("code",null,"symbol-view",-1),Y=e("p",null,[t("So to make steps towards achieving this we would need to work on "),e("code",null,"symbols-view"),t(" to be more generic and then update Pulsar and its packages to take advantage of the changes.")],-1),Q=e("p",null,"This has the potential to really upgrade the functionality and make navigating files and projects far more intuitive. It isn't ready just yet but don't worry, we will have more information to share on this feature in the coming weeks.",-1),K=e("h2",{id:"ci-testing-speed-upgrade",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#ci-testing-speed-upgrade","aria-hidden":"true"},"#"),t(" CI Testing speed upgrade")],-1),Z=e("img",{src:m},null,-1),z={href:"https://github.com/DeeDeeG",target:"_blank",rel:"noopener noreferrer"},X={href:"https://github.com/pulsar-edit/pulsar/pull/492",target:"_blank",rel:"noopener noreferrer"},$=e("h2",{id:"backend-webhook",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#backend-webhook","aria-hidden":"true"},"#"),t(" Backend webhook")],-1),ee=e("img",{src:g},null,-1),te={href:"https://github.com/confused-Techie",target:"_blank",rel:"noopener noreferrer"},ne={href:"https://github.com/pulsar-edit/package-backend/pull/156",target:"_blank",rel:"noopener noreferrer"},se={href:"https://discordapp.com/channels/992103415163396136/1045131651748999239",target:"_blank",rel:"noopener noreferrer"},ae=e("h2",{id:"package-website-readme-links-overhaul",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#package-website-readme-links-overhaul","aria-hidden":"true"},"#"),t(" Package website readme links overhaul")],-1),oe=e("img",{src:f},null,-1),ie={href:"https://github.com/pulsar-edit/package-frontend/pull/96",target:"_blank",rel:"noopener noreferrer"},re={href:"https://github.com/confused-Techie",target:"_blank",rel:"noopener noreferrer"},le=e("code",null,"package.json",-1),ce={href:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#people-fields-author-contributors",target:"_blank",rel:"noopener noreferrer"},he=a(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Barney Rubble &lt;b@rubble.com&gt; (http://barnyrubble.tumblr.com/)&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Previously if this was not populated fully with all three options then the author simply wouldn&#39;t display. This fixes that problem by allowing the optional fields to be omitted (actually this is taken a step further in our implementation - even <code>name</code> can be optional)</p>`,2),pe={href:"https://docs.npmjs.com/cli/v9/configuring-npm/package-json#repository",target:"_blank",rel:"noopener noreferrer"},de=e("code",null,"repository",-1),ue=e("code",null,"package.json",-1),me=e("code",null,"authorName/repoName",-1),ge=e("code",null,"atom.io",-1),fe={href:"https://github.blog/2022-06-08-sunsetting-atom/",target:"_blank",rel:"noopener noreferrer"},ke=e("img",{src:k},null,-1),be=e("code",null,"https://atom.io/packages/...",-1),ve=e("code",null,"https://web.pulsar-edit.dev/packages/...",-1),_e={href:"https://github.com/pulsar-edit/package-frontend/issues/95",target:"_blank",rel:"noopener noreferrer"},we=e("ol",null,[e("li",null,'these links are all effectively "dead" so currently serve no useful purpose and'),e("li",null,[t("they are "),e("em",null,"already"),t(" being redirected from the original link.")])],-1),ye=e("p",null,"We feel that this is an entirely benign change even though it does redirect from the author's originally intended link to another.",-1),xe=e("code",null,"atom.io",-1),je={href:"https://web.archive.org/web/20221215003438/https://flight-manual.atom.io/",target:"_blank",rel:"noopener noreferrer"},Te=e("img",{src:b},null,-1),Ie=e("p",null,[t("Our last change is that relative links are now preserved against the repository of the package. For example "),e("code",null,"./LICENSE.md"),t(" => "),e("code",null,"https://github.com/pulsar-edit/package-frontend/LICENSE.md"),t(".")],-1),Ee=e("p",null,"These were some much needed changes which should hopefully improve the overall experience of using the website.",-1),Se=e("h2",{id:"decoupling-http-handling-for-the-package-backend",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#decoupling-http-handling-for-the-package-backend","aria-hidden":"true"},"#"),t(" Decoupling http handling for the package backend")],-1),Oe={href:"https://github.com/confused-Techie",target:"_blank",rel:"noopener noreferrer"},Ae={href:"https://github.com/pulsar-edit/package-backend/pull/171",target:"_blank",rel:"noopener noreferrer"},Ne=a(`<p>Currently the handling for HTTP and logic is all mixed together in the backend which means that nearly every function within the backend has a signature like:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getPackages</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> req</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Where <code>res</code> is the response object as provided by ExpressJS and <code>req</code> is the request object provided by ExpressJS.</p><p>This also means when a function from the backend needs to return, it&#39;ll have a signature like:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// On Success</span>
res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">httpLog</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// On Failure</span>
<span class="token keyword">await</span> common<span class="token punctuation">.</span><span class="token function">handleError</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Which has a few downsides; when testing a function to the backend a fake Response and Request object must be made that also matches the ones provided by ExpressJS and those objects have to be monitored for the functions behavior, or otherwise the API has to be tested as just that, an API by calling the ExpressJS module itself then checking the api returns for behavior.</p><p>This also means that any new developers have to be familiar with ExpressJS to contribute and each function has to know the exact HTTP Status codes that have to be returned and in some circumstances concern themselves with header fields to set etc.</p><p>The planned changes are to allow each function to return just a serverStatusObject (which is used frequently within the backend) so we change that same signature from above to:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// On Success</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">ok</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token literal-property property">content</span><span class="token operator">:</span> data<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// On Failure</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">ok</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
	<span class="token literal-property property">content</span><span class="token operator">:</span> err<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This has the upside of letting only the code that retrieves API requests deal with responding to them. The rest of the backend can work with just normal functions, without a care in the world about HTTP handling. This change lowers the amount of knowledge needed to contribute, so we hope that more people might be encouraged to get involved. As a bonus, it makes the code much easier to test.</p><hr>`,11),Pe={href:"https://pulsar-edit.dev/community.html",target:"_blank",rel:"noopener noreferrer"};function qe(Le,Ce){const n=c("ExternalLinkIcon");return i(),r("div",null,[_,l(" more "),w,y,e("p",null,[t("Just want to first mention that we have a "),e("a",x,[t("new survey"),s(n)]),t(" up, we would like some feedback from our community on a few aspects of the project so if you haven't answered this already then please have a look, every response is useful to us and we greatly appreciated.")]),j,T,e("p",null,[t("So this is a change we "),e("a",I,[t("have in the works"),s(n)]),t(" thanks to "),e("a",E,[t("@confused-techie"),s(n)]),t(", to upgrade Pulsar's iconography by updating the version of "),e("a",S,[t("Octicons"),s(n)]),t(". The version being used currently in Pulsar is "),O,t(" old (v4.4.0 - from 2016!) and there have been many, many updates since then with a whole bunch of new icons and improvements (now on version v18.3.0).")]),A,N,P,q,L,e("p",null,[t("One of our others is a plan to hopefully modernise the UI, for example we have a bunch of new icons we can use for extending the set of file icons. You can see a couple of potential implementations in the below picture compared to the original. We actually have a survey up right now to gauge the community response to this so if you haven't already then please consider giving us "),e("a",C,[t("your opinion"),s(n)]),t(".")]),J,D,e("p",null,[t("If you want to read more details about what had to be done for the implementation then you can read the "),e("a",H,[t("document"),s(n)]),t(" that accompanies the PR that details what was done and how to maintain it in the future.")]),U,W,e("p",null,[t("Symbol-based navigation in Pulsar currently depends on "),e("a",F,[t("ctags"),s(n)]),t(". It's versatile and can be configured to support lots of different source code files, but it reads from disk and doesn't work well with files that have been modified a lot since the last save. It also doesn't work "),M,t(" on brand-new, unsaved files, or with languages that it hasn't been configured for.")]),e("p",null,[e("a",R,[t("@savetheclocktower"),s(n)]),t(" has been working on some improvements for this. For example, Tree-sitter parsers are quite good at this sort of code analysis, and can identify the important parts of a source code file with "),e("a",V,[t("a simple query file"),s(n)]),t(".")]),e("p",null,[e("a",B,[t("Language servers"),s(n)]),t(" are another potential source of symbol information. Some language servers are even capable of supplying project-wide symbol information; this would improve other "),G,t(" responsibilities, like the \u201CGo to Declaration\u201D\xA0command.")]),Y,Q,K,Z,e("p",null,[e("a",z,[t("@DeedeeG"),s(n)]),t(" has "),e("a",X,[t("made an update"),s(n)]),t(" to our continuous integration configuration by caching and restoring the dependencies which ends up saving us a huge amount of time, possibly over an hour each run! (Pulsar has to build and test an awful lot of packages on each run so it is a long process). This should hopefully make life just that bit easier on the development side of things.")]),$,ee,e("p",null,[e("a",te,[t("@confused-techie"),s(n)]),t(" has been busy adding yet another "),e("a",ne,[t("new feature"),s(n)]),t(" to our package backend, this time it is a new webhook that allows us to publish messages and notifications when package authors publish and update their packages. You can check this out in action in our "),e("a",se,[t("backend-notifications"),s(n)]),t(" channel on Discord.")]),ae,oe,e("p",null,[t("Now some "),e("a",ie,[t("changes to our package website"),s(n)]),t(". There are a few separate, but related, changes by "),e("a",re,[t("@confused-techie"),s(n)]),t(" here that involve improving our package website to overhaul some of the issues we have with readme links.")]),e("p",null,[t("The first change adds shorthand string author assignment in the "),le,t(" file of a package. The "),e("a",ce,[t("npm package specification"),s(n)]),t(" allows the three author properties to be combined into a single string e.g.")]),he,e("p",null,[t("In a similar vein we also now support "),e("a",pe,[t("shortcut syntax"),s(n)]),t(" for the "),de,t(" field of the "),ue,t(". For example writing "),me,t(" wasn't working so we have provided support for this.")]),e("p",null,[t("We noticed that many package authors would link to other community packages in their readmes in order to show other packages that work with or complement their package. Unfortunately as these point to the old "),ge,t(" website it means that every single link simply redirects to the "),e("a",fe,[t("sunsetting Atom"),s(n)]),t(" page. This is really not helpful as it entirely breaks the embedded links, sure there are workaround, people could look at the link and work out what packages it links to but this is a hassle when all you want to do is click a link.")]),ke,e("p",null,[t("Therefore in order to solve this a feature has been added that takes these "),be,t(" links and transforms them to "),ve,t(" so that the author's original intent for package linking is not lost. We did have a "),e("a",_e,[t("conversation"),s(n)]),t(' as to whether it was "right" to make these changes but we reasoned that:')]),we,ye,e("p",null,[t("Our next change also involves dead Atom links, in this case links to the Atom Flight Manual which has been taken down along with the rest of the "),xe,t(" sites. Again we are performing a redirection here but this time to the archived version of the website found on "),e("a",je,[t("Internet Archive"),s(n)]),t(". This keeps the correct link handling and means that the documentation the package author was intending to link to is still available.")]),Te,Ie,Ee,Se,e("p",null,[t("Lastly we have yet another "),e("a",Oe,[t("@confused-techie"),s(n)]),t(" update in the works, this time "),e("a",Ae,[t("improvements to the package backend"),s(n)]),t(" to make developing the backend more accessible to new contributors as well making tasks such as testing easier.")]),Ne,e("p",null,[t("And that just about wraps things up for this month's updates. As ever if you want to get more involved the community then feel free to join in on our various "),e("a",Pe,[t("social channels"),s(n)]),t(". Hope to see you again this time next month!")])])}const De=o(v,[["render",qe],["__file","20230501-Daeraxa-MayUpdate.html.vue"]]);export{De as default};
